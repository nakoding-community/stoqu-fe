"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[765],{97589:function(e,n,i){i.d(n,{DE:function(){return a},Lj:function(){return l},VL:function(){return r}});var t=i(89731),r=function(e){return t.Z.post("currencies/convert",e)},a=function(){return t.Z.get("currencies")},l=function(e,n){return t.Z.put("currencies/".concat(e),n)}},52094:function(e,n){n.Z=function(e){var n=e.condition,i=e.wrapper,t=e.children;return n?i(t):t}},74384:function(e,n,i){i(72791);var t=i(64554),r=i(65661),a=i(11878),l=i(41758),d=(i(53026),i(80184));n.Z=function(e){var n=e.title,i=e.open,o=e.onClose,u=e.maxWidth,s=e.children,c=e.badgeCount,v=e.useBadge,p=e.headerButtonComponent;return(0,d.jsxs)(a.Kl,{open:i,onClose:o,maxWidth:u,children:[(0,d.jsx)(t.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,d.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,d.jsxs)(t.Z,{children:[n," ",v&&(0,d.jsx)(l.Z,{variant:"ghost",color:"error",sx:{marginLeft:"8px"},children:c})]}),p&&p]})}),s]})}},63942:function(e,n){n.Z={attribute:{types:{all:"types",detail:"type"},brands:{all:"brands",detail:"brand"}},products:{all:"products"}}},33943:function(e,n,i){i.d(n,{c:function(){return o}});var t=i(70885),r=i(4942),a=i(1413),l=i(72791),d=function(e,n){switch(n.type){case"INPUT_CHANGE":return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},n.inputId,n.value));case"SET_DATA":return(0,a.Z)((0,a.Z)({},e),n.inputData);default:return e}},o=function(e){var n=(0,l.useReducer)(d,e),i=(0,t.Z)(n,2),r=i[0],a=i[1];return[r,(0,l.useCallback)((function(e,n){a({type:"INPUT_CHANGE",value:n,inputId:e})}),[]),(0,l.useCallback)((function(e){a({type:"SET_DATA",inputData:e})}),[])]}},76765:function(e,n,i){i.r(n),i.d(n,{default:function(){return $}});var t=i(1413),r=i(74165),a=i(15861),l=i(4942),d=i(70885),o=i(72791),u=i(96403),s=i(91614),c=i(36151),v=i(57621),p=i(53767),h=i(51603),x=i(63466),Z=i(39281),f=i(79836),b=i(53382),j=i(35855),m=i(53994),g=i(20068),I=i(13400),y=i(64554),C=i(63033),S=i(56890),w=i(80720),k=i(9281),T=i(21765),P=i(75985),_=i(85703),B=i(25212),D=i(53026),A=i(27578),E=i(17827),U=i(5592),N=i(52094),H=i(41758),L=i(40329),V=i.n(L),z=i(97123),G=i(39709),R=i(74384),W=i(55492),K=i(33943),Q=i(97589),F=i(63942),q=i(80184),O=function(e){var n=e.open,i=e.onClose,t=e.editData,r=e.editId,a=t?"Edit Produk":"Tambah Produk";return(0,q.jsx)(R.Z,{title:a,open:n,onClose:i,children:(0,q.jsx)(X,{onClose:i,editData:t,editId:r})})},X=function(e){var n=e.onClose,i=e.editData,l=e.editId,s=(0,u.NL)(),v=(0,K.c)(J),x=(0,d.Z)(v,3),Z=x[0],f=x[1],b=x[2],j=(0,o.useState)(!1),m=(0,d.Z)(j,2),g=m[0],I=m[1],y=Z.brandId,C=Z.variantId,S=Z.typeId,w=Z.priceIdr,k=Z.priceUsd,T=Z.estimatePriceIdr,_=Z.labelText,B=""===y||""===C||""===S||""===w||""===k||""===T,D=function(e){f("labelText",(0,t.Z)((0,t.Z)({},Z.labelText),e))},A=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a){var d,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),a.preventDefault(),delete(d=(0,t.Z)((0,t.Z)({},Z),{},{priceIdr:V()(Z.priceIdr),priceUsd:V()(Z.priceUsd)})).estimatePriceIdr,delete d.labelText,i&&delete d.labelText,!i){e.next=12;break}return e.next=9,(0,W.zG)(l,d);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,(0,W.LT)(d);case 14:e.t0=e.sent;case 15:o=e.t0,o.isSuccess&&(P.Am.success("Berhasil ".concat(i?"mengubah":"menambahkan"," produk")),n(),s.invalidateQueries([F.Z.products.all])),I(!1);case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){i&&b(i)}),[i,b]),(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Q.VL)({usd:V()(k)});case 2:n=e.sent,(i=n.data)&&f("estimatePriceIdr",null===i||void 0===i?void 0:i.idr);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k&&e()}),[k,f]),(0,q.jsxs)(p.Z,{component:"form",onSubmit:A,children:[(0,q.jsxs)(p.Z,{spacing:3,sx:{p:3},children:[(0,q.jsx)(U.Z,{value:y,label:"Cari Brand (*)",type:"brands",onChange:function(e){f("brandId",e.id),f("variantId",""),D({brand:null===e||void 0===e?void 0:e.label})},disabled:null!==i,labelText:null===_||void 0===_?void 0:_.brand}),(0,q.jsx)(U.Z,{value:C,label:"Cari Varian (*)",type:"variants",onChange:function(e){f("variantId",e.id),D({variant:null===e||void 0===e?void 0:e.label})},disabled:null!==i,additionalQuery:{filterBrandId:y},labelText:null===_||void 0===_?void 0:_.variant}),(0,q.jsx)(U.Z,{value:S,label:"Cari Tipe (*)",type:"types",onChange:function(e){f("typeId",e.id),D({type:null===e||void 0===e?void 0:e.label})},disabled:null!==i,labelText:null===_||void 0===_?void 0:_.type}),(0,q.jsx)(h.Z,{type:"number",label:"Harga USD",variant:"outlined",value:k,onChange:function(e){return f("priceUsd",e.target.value)}}),(0,q.jsx)(h.Z,{type:"number",label:"Estimasi Harga",variant:"outlined",value:T,disabled:!0}),(0,q.jsx)(h.Z,{type:"number",label:"Harga Akhir (*)",variant:"outlined",value:w,onChange:function(e){return f("priceIdr",e.target.value)}})]}),(0,q.jsxs)(z.Z,{children:[(0,q.jsx)(c.Z,{variant:"outlined",color:"inherit",onClick:n,children:"Close"}),(0,q.jsx)(G.Z,{type:"submit",variant:"contained",loading:g,disabled:B,children:"Save"})]})]})},J={brandId:"",variantId:"",typeId:"",priceUsd:"",priceIdr:"",estimatePriceIdr:"",labelText:{}},M=i(87285),Y=i(4215);function $(){var e=(0,_.Z)().themeStretch,n=(0,u.NL)(),i=(0,T.N)(),S=(0,o.useState)("created_at"),w=(0,d.Z)(S,2),N=w[0],L=w[1],V=(0,o.useState)("desc"),z=(0,d.Z)(V,2),G=z[0],R=z[1],K=(0,o.useState)(""),Q=(0,d.Z)(K,2),X=Q[0],J=Q[1],$=(0,k.Nr)(X,300),ne=(0,d.Z)($,1)[0],ie=(0,o.useState)(null),te=(0,d.Z)(ie,2),re=te[0],ae=te[1],le=(0,o.useState)(null),de=(0,d.Z)(le,2),oe=de[0],ue=de[1],se=(0,o.useState)([]),ce=(0,d.Z)(se,2),ve=ce[0],pe=ce[1],he=(0,o.useState)(null),xe=(0,d.Z)(he,2),Ze=xe[0],fe=xe[1],be=(0,o.useState)(0),je=(0,d.Z)(be,2),me=je[0],ge=je[1],Ie=(0,o.useState)(5),ye=(0,d.Z)(Ie,2),Ce=ye[0],Se=ye[1],we=(0,o.useState)(!1),ke=(0,d.Z)(we,2),Te=ke[0],Pe=ke[1],_e=(0,o.useState)(""),Be=(0,d.Z)(_e,2),De=Be[0],Ae=Be[1],Ee=(0,o.useState)(""),Ue=(0,d.Z)(Ee,2),Ne=Ue[0],He=Ue[1],Le=function(){Pe(!0)},Ve=function(e){return(0,Y.a)([F.Z.products.all,e],(function(n){var i=n.signal;return(0,W.Xp)(e,i)}),{staleTime:3e5})}((0,t.Z)({page:me+1,pageSize:Ce,search:ne,filterBrand:De,filterValue:Ne},G&&(0,l.Z)({},"asc"===G?"ascField":"dscField",N))),ze=Ve.data;return(0,o.useEffect)((function(){var e;ze&&(pe(null===ze||void 0===ze?void 0:ze.data),fe(null===ze||void 0===ze||null===(e=ze.meta)||void 0===e?void 0:e.info))}),[ze]),(0,q.jsxs)(B.Z,{title:"Produk",children:[(0,q.jsxs)(s.Z,{maxWidth:!e&&"lg",children:[(0,q.jsx)(E.Z,{heading:"Produk",useBadge:!0,badgeCount:(null===Ze||void 0===Ze?void 0:Ze.count)||0,action:(0,q.jsx)(c.Z,{variant:"contained",startIcon:(0,q.jsx)(D.Z,{icon:"eva:plus-fill"}),onClick:Le,children:"Tambah"})}),(0,q.jsxs)(v.Z,{children:[(0,q.jsxs)(p.Z,{direction:"row",alignItems:"center",sx:{py:2.5,px:3},children:[(0,q.jsx)(U.Z,{label:"Cari Brand",type:"brands",sx:{width:"300px",marginRight:"20px"},onChange:function(e){Ae(null===e||void 0===e?void 0:e.label),ge(0)},labelText:De}),(0,q.jsx)(U.Z,{label:"Cari Tipe",type:"types",sx:{width:"300px",marginRight:"20px"},onChange:function(e){He(null===e||void 0===e?void 0:e.label),ge(0)},labelText:Ne}),(0,q.jsx)(h.Z,{value:X,onChange:function(e){J(e.target.value),ge(0)},placeholder:"Cari...",sx:{width:"100%"},InputProps:{startAdornment:(0,q.jsx)(x.Z,{position:"start",children:(0,q.jsx)(D.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})]}),(0,q.jsx)(A.Z,{children:(0,q.jsx)(Z.Z,{sx:{minWidth:720},children:(0,q.jsxs)(f.Z,{children:[(0,q.jsx)(ee,{orderBy:N,order:G,onSortHandler:function(e){R(N===e&&"asc"===G?"desc":"asc"),L(e)}}),(0,q.jsx)(b.Z,{children:null===ve||void 0===ve?void 0:ve.map((function(e,t){var l,d,o,u,s;return(0,q.jsxs)(j.Z,{children:[(0,q.jsx)(m.Z,{children:t+1+me*Ce}),(0,q.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.code}),(0,q.jsx)(m.Z,{children:null===e||void 0===e||null===(l=e.brand)||void 0===l?void 0:l.brand}),(0,q.jsx)(m.Z,{children:null===e||void 0===e||null===(d=e.variant)||void 0===d?void 0:d.variant}),(0,q.jsx)(m.Z,{children:"".concat(null===e||void 0===e||null===(o=e.type)||void 0===o?void 0:o.value," ").concat(null===e||void 0===e||null===(u=e.type)||void 0===u||null===(s=u.unit)||void 0===s?void 0:s.unit)}),(0,q.jsx)(m.Z,{children:"-"}),(0,q.jsx)(m.Z,{children:"-"}),(0,q.jsx)(m.Z,{children:(0,q.jsx)(H.Z,{variant:"ghost",color:"success",children:(0,M.fS)(null===e||void 0===e?void 0:e.priceIdr)})}),(0,q.jsxs)(m.Z,{children:[(0,q.jsx)(g.Z,{title:"Edit Produk",children:(0,q.jsx)(I.Z,{size:"small",color:"warning",onClick:function(){return function(e){var n,i,t,r,a;ae({brandId:null===e||void 0===e?void 0:e.brandId,variantId:null===e||void 0===e?void 0:e.variantId,typeId:null===e||void 0===e?void 0:e.typeId,priceUsd:null===e||void 0===e?void 0:e.priceUsd,priceIdr:null===e||void 0===e?void 0:e.priceIdr,estimatePriceIdr:"",labelText:{brand:null===e||void 0===e||null===(n=e.brand)||void 0===n?void 0:n.brand,variant:null===e||void 0===e||null===(i=e.variant)||void 0===i?void 0:i.variant,type:"".concat(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.value," ").concat(null===e||void 0===e||null===(r=e.type)||void 0===r||null===(a=r.unit)||void 0===a?void 0:a.unit)}}),ue(null===e||void 0===e?void 0:e.id),Le()}(e)},children:(0,q.jsx)(D.Z,{icon:"eva:edit-fill"})})}),(0,q.jsx)(g.Z,{title:"Delete Produk",children:(0,q.jsx)(I.Z,{size:"small",color:"error",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void i().then((0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,W.Ir)(t);case 2:e.sent.isSuccess&&(P.Am.success("Berhasil menghapus produk"),n.invalidateQueries([F.Z.products.all]));case 5:case"end":return e.stop()}}),e)}))));var t},children:(0,q.jsx)(D.Z,{icon:"eva:trash-2-outline"})})})]})]},null===e||void 0===e?void 0:e.id)}))})]})})}),(0,q.jsx)(y.Z,{sx:{position:"relative"},children:(0,q.jsx)(C.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===Ze||void 0===Ze?void 0:Ze.count)||0,rowsPerPage:Ce,page:me,onPageChange:function(e,n){ge(n)},onRowsPerPageChange:function(e){Se(e.target.value)}})})]})]}),(0,q.jsx)(O,{open:Te,onClose:function(){Pe(!1),ae(null),ue(null)},editData:re,editId:oe})]})}var ee=function(e){var n=e.orderBy,i=e.order,t=e.onSortHandler;return(0,q.jsx)(S.Z,{children:(0,q.jsx)(j.Z,{children:[{id:"no",label:"No",withSort:!1},{id:"code",label:"Kode",withSort:!0},{id:"brand",label:"Brand",withSort:!0},{id:"variant",label:"Varian",withSort:!0},{id:"type",label:"Tipe",withSort:!0},{id:"supplier_name",label:"Nama Supplier",withSort:!1},{id:"code_unique",label:"Kode Unik",withSort:!1},{id:"price_idr",label:"Harga",withSort:!0},{id:"action",label:"Aksi",withSort:!1}].map((function(e){return(0,q.jsx)(m.Z,{children:(0,q.jsx)(N.Z,{condition:e.withSort,wrapper:function(r){return(0,q.jsx)(w.Z,{active:n===e.id,direction:n===e.id?i:"asc",onClick:function(){return n=e.id,void t(n);var n},children:r})},children:e.label})},e.id)}))})})}}}]);
//# sourceMappingURL=765.1ef2eb0d.chunk.js.map