"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[220],{52094:function(n,e){e.Z=function(n){var e=n.condition,t=n.wrapper,i=n.children;return e?t(i):i}},71898:function(n,e,t){var i=t(1413),a=t(74165),r=t(15861),l=t(70885),o=t(72791),d=t(31010),u=t(51603),s=t(19169),c=t(80184);e.Z=function(n){var e,t=n.onChange,v=n.defaultValue,h=n.label,Z=void 0===h?"Unit":h,x=(0,o.useState)([]),p=(0,l.Z)(x,2),f=p[0],j=p[1],b=(0,o.useCallback)((function(){return null===f||void 0===f?void 0:f.map((function(n){return{label:null===n||void 0===n?void 0:n.unit,id:null===n||void 0===n?void 0:n.id}}))}),[f]),m=null===(e=b())||void 0===e?void 0:e.find((function(n){return n.id===v})),g=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var e,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.r)();case 2:e=n.sent,(t=e.data)&&j(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){g()}),[]),(null===f||void 0===f?void 0:f.length)>0?(0,c.jsx)(d.Z,{disablePortal:!0,id:"combo-box-units",options:b(),onChange:function(n,e){t(e)},defaultValue:m,renderInput:function(n){return(0,c.jsx)(u.Z,(0,i.Z)((0,i.Z)({},n),{},{label:Z}))}}):(0,c.jsx)(c.Fragment,{})}},74384:function(n,e,t){t(72791);var i=t(64554),a=t(65661),r=t(11878),l=t(41758),o=(t(53026),t(80184));e.Z=function(n){var e=n.title,t=n.open,d=n.onClose,u=n.maxWidth,s=n.children,c=n.badgeCount,v=n.useBadge,h=n.headerButtonComponent;return(0,o.jsxs)(r.Kl,{open:t,onClose:d,maxWidth:u,children:[(0,o.jsx)(i.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,o.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,o.jsxs)(i.Z,{children:[e," ",v&&(0,o.jsx)(l.Z,{variant:"ghost",color:"error",sx:{marginLeft:"8px"},children:c})]}),h&&h]})}),s]})}},63942:function(n,e){e.Z={attribute:{types:{all:"types",detail:"type"},brands:{all:"brands",detail:"brand"}},products:{all:"products"}}},33943:function(n,e,t){t.d(e,{c:function(){return d}});var i=t(70885),a=t(4942),r=t(1413),l=t(72791),o=function(n,e){switch(e.type){case"INPUT_CHANGE":return(0,r.Z)((0,r.Z)({},n),{},(0,a.Z)({},e.inputId,e.value));case"SET_DATA":return(0,r.Z)((0,r.Z)({},n),e.inputData);default:return n}},d=function(n){var e=(0,l.useReducer)(o,n),t=(0,i.Z)(e,2),a=t[0],r=t[1];return[a,(0,l.useCallback)((function(n,e){r({type:"INPUT_CHANGE",value:e,inputId:n})}),[]),(0,l.useCallback)((function(n){r({type:"SET_DATA",inputData:n})}),[])]}},44220:function(n,e,t){t.r(e),t.d(e,{default:function(){return vn}});var i=t(91614),a=t(53767),r=t(85703),l=t(25212),o=t(74165),d=t(15861),u=t(1413),s=t(4942),c=t(70885),v=t(72791),h=t(96403),Z=t(36151),x=t(57621),p=t(51603),f=t(63466),j=t(39281),b=t(79836),m=t(53382),g=t(64554),C=t(63033),S=t(35855),w=t(53994),I=t(20068),k=t(13400),y=t(56890),V=t(80720),E=t(21765),N=t(9281),D=t(75985),B=t(63942),T=t(4215),P=t(36790),_=t(53026),A=t(27578),F=t(17827),H=t(52094),q=t(40329),z=t.n(q),L=t(97123),Q=t(39709),K=t(74384),M=t(71898),U=t(33943),W=t(80184),R=function(n){var e=n.open,t=n.onClose,i=n.editData,a=n.editId,r=i?"Edit Tipe":"Tambah Tipe";return(0,W.jsx)(K.Z,{title:r,open:e,onClose:t,children:(0,W.jsx)(G,{onClose:t,editData:i,editId:a})})},G=function(n){var e=n.onClose,t=n.editData,i=n.editId,r=(0,U.c)(O),l=(0,c.Z)(r,3),s=l[0],x=l[1],f=l[2],j=(0,v.useState)(!1),b=(0,c.Z)(j,2),m=b[0],g=b[1],C=(0,h.NL)(),S=""===(null===s||void 0===s?void 0:s.unitId)||""===(null===s||void 0===s?void 0:s.value),w=function(){var n=(0,d.Z)((0,o.Z)().mark((function n(a){var r,l;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g(!0),a.preventDefault(),r=(0,u.Z)((0,u.Z)({},s),{},{value:z()(s.value)}),!t){n.next=9;break}return n.next=6,(0,P.b)(i,r);case 6:n.t0=n.sent,n.next=12;break;case 9:return n.next=11,(0,P.Z$)(r);case 11:n.t0=n.sent;case 12:l=n.t0,l.isSuccess&&(D.Am.success("Berhasil ".concat(t?"mengubah":"menambahkan"," tipe")),e(),C.invalidateQueries([B.Z.attribute.types.all],{refetchType:t?"none":"active"}),t&&C.invalidateQueries([B.Z.attribute.types.detail,i])),g(!1);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,v.useEffect)((function(){t&&f(t)}),[t,f]),(0,W.jsxs)(a.Z,{component:"form",onSubmit:w,children:[(0,W.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,W.jsx)(M.Z,{label:"Unit (*)",defaultValue:null===s||void 0===s?void 0:s.unitId,onChange:function(n){return x("unitId",n.id)}}),(0,W.jsx)(p.Z,{value:null===s||void 0===s?void 0:s.value,type:"number",id:"value",label:"Value (*)",variant:"outlined",onChange:function(n){return x("value",n.target.value)}})]}),(0,W.jsxs)(L.Z,{children:[(0,W.jsx)(Z.Z,{variant:"outlined",color:"inherit",onClick:e,children:"Close"}),(0,W.jsx)(Q.Z,{type:"submit",variant:"contained",loading:m,disabled:S,children:"Save"})]})]})},O={unitId:"",value:""},$=function(n){var e,t=n.number,i=n.row,a=n.setEditData,r=n.setEditId,l=n.showModalHandler,s=(0,E.N)(),c=(0,h.NL)(),v=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=function(){return(0,P.lM)(n)};return(0,T.a)([B.Z.attribute.types.detail,n],t,(0,u.Z)({staleTime:1/0},e))}(i.id,{initialData:i}),Z=v.data,x=null!==Z&&void 0!==Z&&Z.data?null===Z||void 0===Z?void 0:Z.data:Z;return(0,W.jsxs)(S.Z,{children:[(0,W.jsx)(w.Z,{children:t}),(0,W.jsx)(w.Z,{children:null===x||void 0===x?void 0:x.code}),(0,W.jsx)(w.Z,{children:null===x||void 0===x||null===(e=x.unit)||void 0===e?void 0:e.unit}),(0,W.jsx)(w.Z,{children:null===x||void 0===x?void 0:x.value}),(0,W.jsxs)(w.Z,{children:[(0,W.jsx)(I.Z,{title:"Edit Tipe",children:(0,W.jsx)(k.Z,{size:"small",color:"warning",onClick:function(){return function(n){a({code:null===n||void 0===n?void 0:n.code,unitId:null===n||void 0===n?void 0:n.unitId,value:null===n||void 0===n?void 0:n.value}),r(null===n||void 0===n?void 0:n.id),l()}(x)},children:(0,W.jsx)(_.Z,{icon:"eva:edit-fill"})})}),(0,W.jsx)(I.Z,{title:"Delete Tipe",children:(0,W.jsx)(k.Z,{size:"small",color:"error",onClick:function(){return n=null===x||void 0===x?void 0:x.id,void s().then((0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.FE)(n);case 2:e.sent.isSuccess&&(D.Am.success("Berhasil menghapus tipe"),c.invalidateQueries(B.Z.attribute.types.all));case 5:case"end":return e.stop()}}),e)}))));var n},children:(0,W.jsx)(_.Z,{icon:"eva:trash-2-outline"})})})]})]})},J=function(n){var e=n.orderBy,t=n.order,i=n.onSortHandler;return(0,W.jsx)(y.Z,{children:(0,W.jsx)(S.Z,{children:[{id:"no",label:"No",withSort:!1},{id:"code",label:"Kode",withSort:!0},{id:"unit",label:"Unit",withSort:!0},{id:"value",label:"Value",withSort:!0},{id:"action",label:"Aksi",withSort:!1}].map((function(n){return(0,W.jsx)(w.Z,{children:(0,W.jsx)(H.Z,{condition:n.withSort,wrapper:function(a){return(0,W.jsx)(V.Z,{active:e===n.id,direction:e===n.id?t:"asc",onClick:function(){return e=n.id,void i(e);var e},children:a})},children:n.label})},n.id)}))})})},X=function(){var n=(0,h.NL)(),e=(0,v.useState)("created_at"),t=(0,c.Z)(e,2),i=t[0],r=t[1],l=(0,v.useState)("desc"),o=(0,c.Z)(l,2),d=o[0],S=o[1],w=(0,v.useState)(""),I=(0,c.Z)(w,2),k=I[0],y=I[1],V=(0,N.Nr)(k,300),E=(0,c.Z)(V,1)[0],D=(0,v.useState)(null),H=(0,c.Z)(D,2),q=H[0],z=H[1],L=(0,v.useState)(null),Q=(0,c.Z)(L,2),K=Q[0],M=Q[1],U=(0,v.useState)([]),G=(0,c.Z)(U,2),O=G[0],X=G[1],Y=(0,v.useState)(null),nn=(0,c.Z)(Y,2),en=nn[0],tn=nn[1],an=(0,v.useState)(0),rn=(0,c.Z)(an,2),ln=rn[0],on=rn[1],dn=(0,v.useState)(5),un=(0,c.Z)(dn,2),sn=un[0],cn=un[1],vn=(0,v.useState)(!1),hn=(0,c.Z)(vn,2),Zn=hn[0],xn=hn[1],pn=function(){xn(!0)},fn=function(n){return(0,T.a)([B.Z.attribute.types.all,n],(function(e){var t=e.signal;return(0,P.yu)(n,t)}),{staleTime:3e5})}((0,u.Z)({page:ln+1,pageSize:sn,search:E},d&&(0,s.Z)({},"asc"===d?"ascField":"dscField",i))),jn=fn.data;return(0,v.useEffect)((function(){var n;null!==jn&&void 0!==jn&&jn.data&&(X((null===jn||void 0===jn?void 0:jn.data)||[]),tn(null===jn||void 0===jn||null===(n=jn.meta)||void 0===n?void 0:n.info))}),[jn]),(0,v.useEffect)((function(){return function(){n.cancelQueries([B.Z.attribute.types.all])}}),[]),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(F.Z,{heading:"Tipe",useBadge:!0,badgeCount:(null===en||void 0===en?void 0:en.count)||0,action:(0,W.jsx)(Z.Z,{variant:"contained",startIcon:(0,W.jsx)(_.Z,{icon:"eva:plus-fill"}),onClick:pn,children:"Tambah"})}),(0,W.jsxs)(x.Z,{children:[(0,W.jsx)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2.5,px:3},children:(0,W.jsx)(p.Z,{value:k,onChange:function(n){y(n.target.value),on(0)},placeholder:"Cari...",InputProps:{startAdornment:(0,W.jsx)(f.Z,{position:"start",children:(0,W.jsx)(_.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})}),(0,W.jsx)(A.Z,{children:(0,W.jsx)(j.Z,{sx:{minWidth:720},children:(0,W.jsxs)(b.Z,{children:[(0,W.jsx)(J,{orderBy:i,order:d,onSortHandler:function(n){S(i===n&&"asc"===d?"desc":"asc"),r(n)}}),(0,W.jsx)(m.Z,{children:O.map((function(n,e){return(0,W.jsx)($,{number:e+1+ln*sn,row:n,setEditData:z,setEditId:M,showModalHandler:pn},n.id)}))})]})})}),(0,W.jsx)(g.Z,{sx:{position:"relative"},children:(0,W.jsx)(C.Z,{rowsPerPageOptions:[3,5,10,25],component:"div",count:(null===en||void 0===en?void 0:en.count)||0,rowsPerPage:sn,page:ln,onPageChange:function(n,e){on(e)},onRowsPerPageChange:function(n){cn(n.target.value)}})})]}),(0,W.jsx)(R,{open:Zn,onClose:function(){xn(!1),z(null),M(null)},editData:q,editId:K,resetEditState:function(){z(null),M(null)}})]})},Y=t(31624),nn=t(5592),en=function(n){var e=n.open,t=n.onClose,i=n.editData,a=n.editId,r=i?"Edit Brand":"Tambah Brand";return(0,W.jsx)(K.Z,{title:r,open:e,onClose:t,children:(0,W.jsx)(tn,{onClose:t,editData:i,editId:a})})},tn=function(n){var e=n.onClose,t=n.editData,i=n.editId,r=(0,h.NL)(),l=(0,U.c)(an),u=(0,c.Z)(l,3),s=u[0],x=u[1],f=u[2],j=(0,v.useState)(!1),b=(0,c.Z)(j,2),m=b[0],g=b[1],C=(0,v.useState)(null),S=(0,c.Z)(C,2),w=S[0],I=S[1],k=s.brand,y=s.supplierId,V=""===k,E=function(){var n=(0,d.Z)((0,o.Z)().mark((function n(a){var l;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),g(!0),!t){n.next=8;break}return n.next=5,(0,Y.zI)(i,s);case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,(0,Y.eb)(s);case 10:n.t0=n.sent;case 11:l=n.t0,l.isSuccess&&(D.Am.success("Berhasil ".concat(t?"mengubah":"menambahkan"," brand")),e(),r.invalidateQueries([B.Z.attribute.brands.all])),g(!1);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,v.useEffect)((function(){t&&(f({brand:null===t||void 0===t?void 0:t.brandName,supplierId:null===t||void 0===t?void 0:t.supplierId}),I(null===t||void 0===t?void 0:t.supplierName))}),[t,f]),(0,W.jsxs)(a.Z,{component:"form",onSubmit:E,children:[(0,W.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,W.jsx)(p.Z,{value:k,id:"outlined-basic",label:"Brand (*)",variant:"outlined",onChange:function(n){return x("brand",n.target.value)}}),(0,W.jsx)(nn.Z,{value:y,label:"Supplier",sx:{marginBottom:"20px"},type:"users",additionalQuery:{filterRole:"supplier"},onChange:function(n){x("supplierId",null===n||void 0===n?void 0:n.id),I(null===n||void 0===n?void 0:n.label)},labelText:w})]}),(0,W.jsxs)(L.Z,{children:[(0,W.jsx)(Z.Z,{variant:"outlined",color:"inherit",onClick:e,children:"Close"}),(0,W.jsx)(Q.Z,{type:"submit",variant:"contained",loading:m,disabled:V,children:"Save"})]})]})},an={supplierId:"",brand:""},rn=t(31343),ln=function(n){var e=n.open,t=n.onClose,i=n.editVariantId,a=n.editVariantData,r=n.brandId,l=a?"Edit Varian":"Tambah Varian";return(0,W.jsx)(K.Z,{title:l,open:e,onClose:t,children:(0,W.jsx)(on,{onClose:t,editVariantId:i,brandId:r,editVariantData:a})})},on=function(n){var e=n.onClose,t=n.editVariantId,i=n.brandId,r=n.editVariantData,l=(0,h.NL)(),s=(0,U.c)(dn),x=(0,c.Z)(s,3),f=x[0],j=x[1],b=x[2],m=(0,v.useState)(!1),g=(0,c.Z)(m,2),C=g[0],S=g[1],w=f.code,I=f.variant,k=f.itl,y=f.uniqueCode,V=""===I||""===k,E=function(){var n=(0,d.Z)((0,o.Z)().mark((function n(a){var d,s;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),S(!0),d=(0,u.Z)((0,u.Z)({},f),{},{brandId:i}),t&&delete d.brandId,r||delete d.code,!r){n.next=11;break}return n.next=8,(0,rn.iT)(t,d);case 8:n.t0=n.sent,n.next=14;break;case 11:return n.next=13,(0,rn.Zm)(d);case 13:n.t0=n.sent;case 14:s=n.t0,s.isSuccess&&(D.Am.success("Berhasil ".concat(r?"mengubah":"menambahkan"," varian")),e(),l.invalidateQueries([B.Z.attribute.brands.all])),S(!1);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,v.useEffect)((function(){r&&b(r)}),[r,b]),(0,W.jsxs)(a.Z,{component:"form",onSubmit:E,children:[(0,W.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[t&&(0,W.jsx)(p.Z,{value:w,label:"Kode (*)",variant:"outlined",onChange:function(n){return j("code",n.target.value)},disabled:null!=t}),(0,W.jsx)(p.Z,{value:I,label:"Varian (*)",variant:"outlined",onChange:function(n){return j("variant",n.target.value)}}),(0,W.jsx)(p.Z,{value:k,label:"ITL (*)",variant:"outlined",onChange:function(n){return j("itl",n.target.value)}}),(0,W.jsx)(p.Z,{value:y,id:"outlined-basic",label:"Kode Unik",variant:"outlined",onChange:function(n){return j("uniqueCode",n.target.value)}})]}),(0,W.jsxs)(L.Z,{children:[(0,W.jsx)(Z.Z,{variant:"outlined",color:"inherit",onClick:e,children:"Close"}),(0,W.jsx)(Q.Z,{type:"submit",variant:"contained",loading:C,disabled:V,children:"Save"})]})]})},dn={code:"",variant:"",itl:"",uniqueCode:""},un=function(n){var e=n.number,t=n.row,i=n.setEditVariantData,a=n.setEditVariantId,r=n.setEditBrandData,l=n.setBrandId,u=n.showModalBrandHandler,s=n.setShowModalVariant,c=(0,E.N)(),v=function(n){s(!0),l(null===n||void 0===n?void 0:n.brandId)};return(0,W.jsxs)(S.Z,{children:[(0,W.jsx)(w.Z,{children:e}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.brandCodeName}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.brandName}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.supplierName}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.codeVariant}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.variantName}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.variantItl}),(0,W.jsx)(w.Z,{children:null===t||void 0===t?void 0:t.uniqueCode}),(0,W.jsx)(w.Z,{children:(null===t||void 0===t?void 0:t.codeVariant)&&(null===t||void 0===t?void 0:t.variantName)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(I.Z,{title:"Edit Varian",children:(0,W.jsx)(k.Z,{size:"small",color:"warning",onClick:function(){return function(n){v(),i({code:null===n||void 0===n?void 0:n.codeVariant,variant:null===n||void 0===n?void 0:n.variantName,itl:null===n||void 0===n?void 0:n.variantItl,uniqueCode:null===n||void 0===n?void 0:n.uniqueCode}),a(null===n||void 0===n?void 0:n.variantId)}(t)},children:(0,W.jsx)(_.Z,{icon:"eva:edit-fill"})})}),(0,W.jsx)(I.Z,{title:"Delete Varian",children:(0,W.jsx)(k.Z,{size:"small",color:"error",onClick:function(){return n=null===t||void 0===t?void 0:t.variantId,void c().then((0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,rn.h)(n);case 2:e.sent.isSuccess&&D.Am.success("Berhasil menghapus tipe");case 5:case"end":return e.stop()}}),e)}))));var n},children:(0,W.jsx)(_.Z,{icon:"eva:trash-2-outline"})})})]})}),(0,W.jsx)(w.Z,{children:(null===t||void 0===t?void 0:t.no)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(I.Z,{title:"Edit Brand",children:(0,W.jsx)(k.Z,{size:"small",color:"warning",onClick:function(){return r(n=t),l(null===n||void 0===n?void 0:n.brandId),void u();var n},children:(0,W.jsx)(_.Z,{icon:"eva:edit-fill"})})}),(0,W.jsx)(I.Z,{title:"Tambah Variant",children:(0,W.jsx)(k.Z,{size:"small",color:"primary",onClick:function(){return v(t)},children:(0,W.jsx)(_.Z,{icon:"eva:plus-outline"})})})]})})]})},sn=function(n){var e=n.orderBy,t=n.order,i=n.onSortHandler;return(0,W.jsx)(y.Z,{children:(0,W.jsx)(S.Z,{children:[{id:"no",label:"No",withSort:!1},{id:"code",label:"Kode",withSort:!0},{id:"brand",label:"Brand",withSort:!0},{id:"supplier_name",label:"Nama Supplier",withSort:!1},{id:"variant_code",label:"Kode Varian",withSort:!1},{id:"variant",label:"Varian",withSort:!1},{id:"itl",label:"ITL",withSort:!1},{id:"code_unique",label:"Kode Unik",withSort:!1},{id:"variant_action",label:"Aksi Varian",withSort:!1},{id:"action",label:"Aksi",withSort:!1}].map((function(n){return(0,W.jsx)(w.Z,{children:(0,W.jsx)(H.Z,{condition:n.withSort,wrapper:function(a){return(0,W.jsx)(V.Z,{active:e===n.id,direction:e===n.id?t:"asc",onClick:function(){return e=n.id,void i(e);var e},children:a})},children:n.label})},n.id)}))})})},cn=function(){var n=(0,h.NL)(),e=(0,v.useState)("created_at"),t=(0,c.Z)(e,2),i=t[0],r=t[1],l=(0,v.useState)("desc"),o=(0,c.Z)(l,2),d=o[0],S=o[1],w=(0,v.useState)(""),I=(0,c.Z)(w,2),k=I[0],y=I[1],V=(0,N.Nr)(k,300),E=(0,c.Z)(V,1)[0],D=(0,v.useState)(null),P=(0,c.Z)(D,2),H=P[0],q=P[1],z=(0,v.useState)(null),L=(0,c.Z)(z,2),Q=L[0],K=L[1],M=(0,v.useState)(null),U=(0,c.Z)(M,2),R=U[0],G=U[1],O=(0,v.useState)(null),$=(0,c.Z)(O,2),J=$[0],X=$[1],nn=(0,v.useState)([]),tn=(0,c.Z)(nn,2),an=tn[0],rn=tn[1],on=(0,v.useState)(null),dn=(0,c.Z)(on,2),cn=dn[0],vn=dn[1],hn=(0,v.useState)(0),Zn=(0,c.Z)(hn,2),xn=Zn[0],pn=Zn[1],fn=(0,v.useState)(5),jn=(0,c.Z)(fn,2),bn=jn[0],mn=jn[1],gn=(0,v.useState)(!1),Cn=(0,c.Z)(gn,2),Sn=Cn[0],wn=Cn[1],In=(0,v.useState)(!1),kn=(0,c.Z)(In,2),yn=kn[0],Vn=kn[1],En=function(){q(null),K(null),G(null),X(null)},Nn=function(){wn(!0)},Dn=function(n){return(0,T.a)([B.Z.attribute.brands.all,n],(function(e){var t=e.signal;return(0,Y.vp)(n,t)}),{staleTime:3e5})}((0,u.Z)({page:xn+1,pageSize:bn,search:E},d&&(0,s.Z)({},"asc"===d?"ascField":"dscField",i))),Bn=Dn.data;return(0,v.useEffect)((function(){var n,e,t=[];null===Bn||void 0===Bn||null===(n=Bn.data)||void 0===n||n.forEach((function(n,e){var i,a=(null===(i=n.variants)||void 0===i?void 0:i.length)>0?n.variants:[1];return null===a||void 0===a?void 0:a.map((function(i,a){var r;return t.push({no:0===a?a+e+1:null,brandCodeName:0===a?n.code:null,brandName:0===a?n.brand:null,codeVariant:null===i||void 0===i?void 0:i.code,variantName:null===i||void 0===i?void 0:i.variant,variantItl:null===i||void 0===i?void 0:i.itl,brandId:0===a?n.id:null,variantId:null===i||void 0===i?void 0:i.id,supplierName:0===a?null===n||void 0===n||null===(r=n.supplier)||void 0===r?void 0:r.name:null,supplierId:null===n||void 0===n?void 0:n.supplierId,uniqueCode:null===i||void 0===i?void 0:i.uniqueCode})}))})),rn(t||[]),vn(null===Bn||void 0===Bn||null===(e=Bn.meta)||void 0===e?void 0:e.info)}),[Bn]),(0,v.useEffect)((function(){return function(){n.cancelQueries([B.Z.attribute.brands.all])}}),[]),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(F.Z,{heading:"Brand",useBadge:!0,badgeCount:(null===cn||void 0===cn?void 0:cn.count)||0,action:(0,W.jsx)(Z.Z,{variant:"contained",startIcon:(0,W.jsx)(_.Z,{icon:"eva:plus-fill"}),onClick:Nn,children:"Tambah"})}),(0,W.jsxs)(x.Z,{children:[(0,W.jsx)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2.5,px:3},children:(0,W.jsx)(p.Z,{value:k,onChange:function(n){y(n.target.value)},placeholder:"Cari...",InputProps:{startAdornment:(0,W.jsx)(f.Z,{position:"start",children:(0,W.jsx)(_.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})}),(0,W.jsx)(A.Z,{children:(0,W.jsx)(j.Z,{sx:{minWidth:720},children:(0,W.jsxs)(b.Z,{children:[(0,W.jsx)(sn,{orderBy:i,order:d,onSortHandler:function(n){S(i===n&&"asc"===d?"desc":"asc"),r(n)}}),(0,W.jsx)(m.Z,{children:null===an||void 0===an?void 0:an.map((function(n){return(0,W.jsx)(un,{number:(null===n||void 0===n?void 0:n.no)&&(null===n||void 0===n?void 0:n.no)+xn*bn,row:n,setEditVariantData:G,setEditVariantId:X,setEditBrandData:q,setBrandId:K,showModalBrandHandler:Nn,setShowModalVariant:Vn},n.id)}))})]})})}),(0,W.jsx)(g.Z,{sx:{position:"relative"},children:(0,W.jsx)(C.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===cn||void 0===cn?void 0:cn.count)||0,rowsPerPage:bn,page:xn,onPageChange:function(n,e){pn(e)},onRowsPerPageChange:function(n){mn(n.target.value)}})})]}),(0,W.jsx)(en,{open:Sn,onClose:function(){wn(!1),En()},editData:H,editId:Q}),(0,W.jsx)(ln,{open:yn,onClose:function(){Vn(!1),En()},brandId:Q,editVariantData:R,editVariantId:J})]})};function vn(){var n=(0,r.Z)().themeStretch;return(0,W.jsx)(l.Z,{title:"Atribut",children:(0,W.jsxs)(i.Z,{maxWidth:!n&&"lg",children:[(0,W.jsx)(X,{}),(0,W.jsx)(a.Z,{sx:{marginTop:"50px"}}),(0,W.jsx)(cn,{})]})})}}}]);
//# sourceMappingURL=220.7db50292.chunk.js.map