"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[818],{31624:function(n,t,r){r.d(t,{eb:function(){return u},vp:function(){return o},zI:function(){return i}});var e=r(89731),u=function(n){return e.Z.post("brands",n)},o=function(n,t){return e.Z.get("brands",{params:n,signal:t})},i=function(n,t){return e.Z.put("brands/".concat(n),t)}},94728:function(n,t,r){r.d(t,{P:function(){return u},Q:function(){return o}});var e=r(89731),u=function(n){return e.Z.get("lookups/stock",{params:n})},o=function(n){return e.Z.get("lookups/order-trx",{params:n})}},87003:function(n,t,r){r.d(t,{AU:function(){return u},CD:function(){return v},Cs:function(){return s},Iz:function(){return a},LV:function(){return c},Nf:function(){return i},Ys:function(){return d},dz:function(){return o},oA:function(){return f},sl:function(){return p},up:function(){return l}});var e=r(89731),u=function(n){return e.Z.get("orders",{params:n})},o=function(n,t){return e.Z.get("orders/".concat(n),{params:t})},i=function(n){return e.Z.get("orders/report",{params:n})},a=function(n){return e.Z.get("reports/summary",{params:n})},c=function(n){return e.Z.post("orders",n)},s=function(n,t){return e.Z.put("orders/".concat(n),t)},l=function(n){return e.Z.post("orders/item",n)},d=function(n){return e.Z.delete("orders/item/".concat(n))},f=function(n,t){return e.Z.put("orders/".concat(n,"/item-stock-sync/").concat(t))},v=function(n){return e.Z.put("orders/".concat(n,"/read"))},p=function(n){return e.Z.put("orders/".concat(n,"/cancel"))}},55492:function(n,t,r){r.d(t,{Ir:function(){return a},LT:function(){return u},Xp:function(){return o},ax:function(){return c},j$:function(){return s},zG:function(){return i}});var e=r(89731),u=function(n){return e.Z.post("products",n)},o=function(n){return e.Z.get("products",{params:n})},i=function(n,t){return e.Z.put("products/".concat(n),t)},a=function(n){return e.Z.delete("products/".concat(n))},c=function(n){return e.Z.get("products/search/type",{params:n})},s=function(n,t){return e.Z.get("orders/summaries-total/".concat(n,"/").concat(t))}},36790:function(n,t,r){r.d(t,{FE:function(){return c},Z$:function(){return u},b:function(){return a},lM:function(){return i},yu:function(){return o}});var e=r(89731),u=function(n){return e.Z.post("types",n)},o=function(n,t){return e.Z.get("types",{params:n,signal:t})},i=function(n,t){return e.Z.get("types/".concat(n),{params:t})},a=function(n,t){return e.Z.put("types/".concat(n),t)},c=function(n){return e.Z.delete("types/".concat(n))}},19169:function(n,t,r){r.d(t,{r:function(){return u}});var e=r(89731),u=function(){return e.Z.get("units")}},90260:function(n,t,r){r.d(t,{Rf:function(){return o},h8:function(){return a},r4:function(){return u},uz:function(){return i}});var e=r(89731),u=function(n){return e.Z.post("users",n)},o=function(n){return e.Z.get("users",{params:n})},i=function(n,t){return e.Z.put("users/".concat(n),t)},a=function(n){return e.Z.delete("users/".concat(n))}},31343:function(n,t,r){r.d(t,{PC:function(){return u},Zm:function(){return o},h:function(){return a},iT:function(){return i}});var e=r(89731),u=function(n){return e.Z.get("variants",{params:n})},o=function(n){return e.Z.post("variants",n)},i=function(n,t){return e.Z.put("variants/".concat(n),t)},a=function(n){return e.Z.delete("variants/".concat(n))}},17827:function(n,t,r){r.d(t,{Z:function(){return d}});var e=r(1413),u=r(26769),o=r.n(u),i=r(64554),a=r(20890),c=r(50533),s=r(41758),l=r(80184);function d(n){var t=n.action,r=n.heading,u=n.moreLink,d=void 0===u?[]:u,f=n.sx,v=n.useBadge,p=n.badgeCount;return(0,l.jsxs)(i.Z,{sx:(0,e.Z)({mb:4},f),children:[(0,l.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,l.jsxs)(i.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[(0,l.jsx)(a.Z,{variant:"h4",sx:{marginRight:"8px"},children:r}),v&&(0,l.jsx)(s.Z,{variant:"ghost",color:"error",children:p})]}),t&&(0,l.jsx)(i.Z,{sx:{flexShrink:0},children:t})]}),(0,l.jsx)(i.Z,{sx:{mt:2},children:o()(d)?(0,l.jsx)(c.Z,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map((function(n){return(0,l.jsx)(c.Z,{noWrap:!0,href:n,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:n},n)}))})]})}},5592:function(n,t,r){r.d(t,{Z:function(){return z}});var e=r(74165),u=r(15861),o=r(42982),i=r(1413),a=r(70885),c=r(45987),s=r(72791),l=r(9281),d=r(31010),f=r(51603),v=r(64554),p=r(31624),Z=r(31343),m=r(36790),b=r(87003),x=r(55492),h=r(94728),g=r(89731),k=function(n){return g.Z.get("roles",{params:n})},y=r(19169),w=r(90260),S=r(87285),C=r(18111),j=r.n(C),I=r(27578),_=r(80184),O=["label","type","onChange","value","additionalQuery","useStaticOption","staticOptions","autoFocus","useCreateOnEnter","labelText","excludeIds"],T=["children"],E=s.memo((function(n){var t,r,g=n.label,C=n.type,I=n.onChange,T=n.value,E=n.additionalQuery,z=n.useStaticOption,P=n.staticOptions,L=n.autoFocus,F=n.useCreateOnEnter,N=void 0!==F&&F,A=n.labelText,B=n.excludeIds,D=void 0===B?[]:B,H=(0,c.Z)(n,O),Q=(0,s.useState)(""),U=(0,a.Z)(Q,2),G=U[0],X=U[1],Y=(0,l.Nr)(G,300),$=(0,a.Z)(Y,1)[0],q=(0,s.useState)(P||[]),K=(0,a.Z)(q,2),M=K[0],V=K[1],W=(0,s.useState)(""),J=(0,a.Z)(W,2),nn=J[0],tn=J[1],rn=(0,s.useState)(0),en=(0,a.Z)(rn,2),un=en[0],on=en[1],an=(0,s.useState)(1),cn=(0,a.Z)(an,2),sn=cn[0],ln=cn[1],dn=(0,s.useState)(!1),fn=(0,a.Z)(dn,2),vn=fn[0],pn=fn[1],Zn=(0,s.useState)(!1),mn=(0,a.Z)(Zn,2),bn=mn[0],xn=mn[1],hn=(null===(t=z?P:M)||void 0===t||null===(r=t.find((function(n){return(null===n||void 0===n?void 0:n.id)===nn})))||void 0===r?void 0:r.label)||A||"",gn=function(){};switch(C){case"brands":gn=p.vp;break;case"variants":gn=Z.PC;break;case"types":gn=m.yu;break;case"orders":gn=b.AU;break;case"products":gn=x.Xp;break;case"lookupStocks":gn=h.P;break;case"roles":gn=k;break;case"units":gn=y.r;break;case"productTypes":gn=x.ax;break;case"users":gn=w.Rf}var kn=function(n){if(0===(null===n||void 0===n?void 0:n.length))return[];switch(C){case"brands":return null===n||void 0===n?void 0:n.map((function(n){return{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.brand}}));case"types":return null===n||void 0===n?void 0:n.map((function(n){var t;return{id:null===n||void 0===n?void 0:n.id,label:"".concat(null===n||void 0===n?void 0:n.value," ").concat(null===n||void 0===n||null===(t=n.unit)||void 0===t?void 0:t.unit)}}));case"variants":return null===n||void 0===n?void 0:n.map((function(n){return{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.variant}}));case"orders":case"lookupStocks":return null===n||void 0===n?void 0:n.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.code})}));case"roles":return null===n||void 0===n?void 0:n.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.role})}));case"products":return null===n||void 0===n?void 0:n.map((function(n){var t,r,e,u,o;return(0,i.Z)((0,i.Z)({},n),{},{id:null===n||void 0===n?void 0:n.id,label:"".concat(null===n||void 0===n||null===(t=n.brand)||void 0===t?void 0:t.brand," - ").concat(null===n||void 0===n||null===(r=n.variant)||void 0===r?void 0:r.variant," ").concat(null===n||void 0===n||null===(e=n.type)||void 0===e?void 0:e.value," ").concat(null===n||void 0===n||null===(u=n.type)||void 0===u||null===(o=u.unit)||void 0===o?void 0:o.unit)})}));case"units":return null===n||void 0===n?void 0:n.map((function(n){return{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.unit}}));case"productTypes":return null===n||void 0===n?void 0:n.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.name})}));case"users":return null===n||void 0===n?void 0:n.map((function(n){return{id:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.name}}));default:return""}},yn=function(n){var t=(0,o.Z)(n);return null===t||void 0===t?void 0:t.filter((function(n){return!(null!==D&&void 0!==D&&D.includes(null===n||void 0===n?void 0:n.id))}))},wn=function(){return(0,i.Z)({},E)},Sn=function(){var n=(0,u.Z)((0,e.Z)().mark((function n(){var t,r,u,o,a,c,s;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,i.Z)({pageSize:10,page:sn,search:G},E&&wn()),n.next=3,gn(r);case 3:u=n.sent,o=u.data,a=u.meta,c=kn(o||[]),s=yn(c),V(s||[]),on(null===a||void 0===a||null===(t=a.info)||void 0===t?void 0:t.totalPage);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Cn=function(){var n=(0,u.Z)((0,e.Z)().mark((function n(t){var r,u,a,c,s,l,d;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,i.Z)({pageSize:10,page:t,search:G},E&&wn()),n.next=3,gn(r);case 3:u=n.sent,a=u.data,c=u.meta,a&&(l=kn(a||[]),d=yn(l),V((function(n){return[].concat((0,o.Z)(n),(0,o.Z)(d))})),on(null===c||void 0===c||null===(s=c.info)||void 0===s?void 0:s.totalPage));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),jn=function(){var n=(0,u.Z)((0,e.Z)().mark((function n(){var t,r,u;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k();case 2:if(t=n.sent,!(r=t.data)){n.next=6;break}return n.abrupt("return",null===r||void 0===r||null===(u=r.find((function(n){return"customer"===(null===n||void 0===n?void 0:n.role)})))||void 0===u?void 0:u.id);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),In=function(){var n=(0,u.Z)((0,e.Z)().mark((function n(t){var r,u;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!N){n.next=11;break}if("Enter"!==t.code){n.next=11;break}if("users"!==C){n.next=11;break}return n.next=5,jn();case 5:return r=n.sent,n.next=8,(0,w.r4)({roleId:r,name:t.target.value});case 8:u=n.sent,u.data&&Sn();case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return function(n,t){var r=(0,s.useRef)(!0),e=(0,s.useRef)(t);(0,s.useEffect)((function(){var u=e.current.every((function(n,r){return j()(n,t[r])}));!r.current&&u||n(),r.current=!1,e.current=t}),t)}((function(){vn&&Sn()}),[$]),(0,s.useEffect)((function(){tn(T)}),[T]),(0,s.useEffect)((function(){vn&&setTimeout((0,u.Z)((0,e.Z)().mark((function n(){var t;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=document.querySelector("#listBox .simplebar-content-wrapper"),(null===t||void 0===t?void 0:t.scrollHeight)>(null===t||void 0===t?void 0:t.clientHeight)||!(sn<un)){n.next=8;break}return xn(!0),n.next=6,Cn(sn+1);case 6:ln(sn+1),xn(!1);case 8:case"end":return n.stop()}}),n)}))),250)}),[vn]),(0,_.jsx)(d.Z,(0,i.Z)({id:"combo-box-demo",onOpen:function(){pn(!0),V(P||[]),z?V(P):Sn()},onClose:function(){pn(!1),ln(1),V([]),X("")},noOptionsText:N?"No options found, press enter button to create a new user":"No options found",onInputChange:function(n){var t;X(null===n||void 0===n||null===(t=n.target)||void 0===t?void 0:t.value),ln(1)},options:M,onChange:function(n,t){I(t),tn(null===t||void 0===t?void 0:t.id)},renderInput:function(n){return(0,_.jsx)(f.Z,(0,i.Z)((0,i.Z)({},n),{},{label:g,autoFocus:L,onKeyDown:In}))},renderOption:function(n,t){return(0,s.createElement)(v.Z,(0,i.Z)((0,i.Z)({},n),{},{component:"li",key:"".concat(null===t||void 0===t?void 0:t.id,"-").concat(null===t||void 0===t?void 0:t.label,"-").concat(null===n||void 0===n?void 0:n["data-option-index"])}),null===t||void 0===t?void 0:t.label)},value:hn,ListboxProps:{onScroll:function(n){var t=n.currentTarget;sn<un&&!bn&&(0,S.U2)(t,30,(0,u.Z)((0,e.Z)().mark((function n(){return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return xn(!0),n.next=3,Cn(sn+1);case 3:ln(sn+1),xn(!1);case 5:case"end":return n.stop()}}),n)}))))},id:"listBox"},ListboxComponent:R},H))})),R=(0,s.forwardRef)((function(n,t){var r=n.children,e=(0,c.Z)(n,T),u=(0,s.useRef)(null);return(0,s.useImperativeHandle)(t,(function(){return u.current})),(0,_.jsx)(I.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:u,role:"list-box",children:r}))}));E.whyDidYouRender=!0;var z=E}}]);
//# sourceMappingURL=818.9e139ce9.chunk.js.map