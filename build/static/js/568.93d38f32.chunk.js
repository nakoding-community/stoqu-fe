(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[568],{52094:function(e,t){"use strict";t.Z=function(e){var t=e.condition,n=e.wrapper,i=e.children;return t?n(i):i}},17568:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var i=n(1413),r=n(4942),a=n(42982),o=n(74165),s=n(15861),u=n(70885),c=n(72426),d=n.n(c),l=n(63266),x=n.n(l),f=n(72791),h=n(90653),Z=n(13967),p=n(91614),m=n(61889),v=n(57621),j=n(53767),g=n(94721),b=n(13239),S=n(20890),w=n(64554),Y=n(51603),y=n(36151),M=n(39281),C=n(79836),I=n(53382),D=n(35855),k=n(53994),A=n(63033),E=n(56890),z=n(80720),N=n(21765),P=n(9281),T=n(74569),_=n.n(T),O=n(85703),R=n(25212),U=n(53026),L=n(27578),H=n(17827),W=n(41758),B=n(52094),G=n(87003),F=n(23197),J=n(87285),K=n(5592),$=n(80184);function V(e){return e instanceof Date&&!Number.isNaN(e)}function q(){var e=(0,Z.Z)(),t=(0,O.Z)().themeStretch,n=((0,N.N)(),(0,f.useState)("created_at")),c=(0,u.Z)(n,2),l=c[0],E=c[1],z=(0,f.useState)("desc"),T=(0,u.Z)(z,2),B=T[0],q=T[1],X=(0,f.useState)(""),ee=(0,u.Z)(X,2),te=ee[0],ne=(ee[1],(0,P.Nr)(te,300)),ie=(0,u.Z)(ne,1)[0],re=(0,f.useState)([]),ae=(0,u.Z)(re,2),oe=ae[0],se=ae[1],ue=(0,f.useState)(null),ce=(0,u.Z)(ue,2),de=ce[0],le=ce[1],xe=(0,f.useState)(0),fe=(0,u.Z)(xe,2),he=fe[0],Ze=fe[1],pe=(0,f.useState)(5),me=(0,u.Z)(pe,2),ve=me[0],je=me[1],ge=(0,f.useState)(0),be=(0,u.Z)(ge,2),Se=be[0],we=be[1],Ye=(0,f.useState)(0),ye=(0,u.Z)(Ye,2),Me=ye[0],Ce=ye[1],Ie=(0,f.useState)([d()().subtract(7,"d"),d()()]),De=(0,u.Z)(Ie,2),ke=De[0],Ae=De[1],Ee=(0,f.useState)(""),ze=(0,u.Z)(Ee,2),Ne=ze[0],Pe=ze[1],Te=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t,n,i,r,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accessToken"),n={url:"".concat(F.E0,"/orders/report/excel"),headers:{"Content-Type":"blob",Authorization:null!==t?"Bearer ".concat(t):""},responseType:"arraybuffer",params:{start_date:d()(ke[0]).format("YYYY-MM-DD"),end_date:d()(ke[1]).format("YYYY-MM-DD")}},e.prev=2,e.next=5,_()(n);case 5:i=e.sent,r="".concat(V(ke[0])?d()(ke[0]).format("MMMM Do YYYY"):d()().subtract(7,"d").format("MMMM Do YYYY")+" - "+V(ke[1])?d()(ke[1]).format("MMMM Do YYYY"):d()().format("MMMM Do YYYY"),".xlsx"),a=URL.createObjectURL(new Blob([i.data])),(s=document.createElement("a")).href=a,s.setAttribute("download",r),document.body.appendChild(s),s.click(),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(2),Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),_e=function(e,t){var n=(0,a.Z)(ke);n[t]=e,Ae(n),Ze(0)},Oe=function(e){return(0,r.Z)({},e,d()("startDate"===e?ke[0]:ke[1]).format("YYYY-MM-DD"))},Re=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t,n,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.Z)((0,i.Z)((0,i.Z)({page:he+1,pageSize:ve,filterStatus:Ne,search:te},B&&(0,r.Z)({},"asc"===B?"ascField":"dscField",l)),2===(null===ke||void 0===ke?void 0:ke.length)&&ke[0]&&Oe("startDate")),2===(null===ke||void 0===ke?void 0:ke.length)&&ke[1]&&Oe("endDate")),e.next=3,(0,G.Nf)(t);case 3:n=e.sent,a=n.data,s=n.meta,se((null===a||void 0===a?void 0:a.orders)||[]),we(null===a||void 0===a?void 0:a.totalItem),Ce(null===a||void 0===a?void 0:a.totalPrice),le(null===s||void 0===s?void 0:s.info);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){Re()}),[ve,he,ie,B,ke,Ne]),(0,$.jsx)(R.Z,{title:"Laporan",children:(0,$.jsxs)(p.Z,{maxWidth:!t&&"lg",children:[(0,$.jsx)(H.Z,{heading:"Laporan",useBadge:!0,badgeCount:null===de||void 0===de?void 0:de.count}),(0,$.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,$.jsx)(m.ZP,{item:!0,xs:12,md:3,children:(0,$.jsx)(v.Z,{sx:{mb:5},children:(0,$.jsx)(j.Z,{direction:"row",divider:(0,$.jsx)(g.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:(0,$.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,$.jsxs)(j.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,$.jsx)(U.Z,{icon:"ic:round-receipt",sx:{color:e.palette.info.main,width:24,height:24,position:"absolute"}}),(0,$.jsx)(b.Z,{variant:"determinate",value:10,size:56,thickness:4,sx:{color:e.palette.info.main,opacity:.48}}),(0,$.jsx)(b.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,$.jsxs)(j.Z,{spacing:.5,sx:{ml:2},children:[(0,$.jsx)(S.Z,{variant:"h6",children:"Total Pesanan"}),(0,$.jsxs)(S.Z,{variant:"subtitle2",children:[Se," ",(0,$.jsx)(w.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"orders"})]})]})]})})})}),(0,$.jsx)(m.ZP,{item:!0,xs:12,md:3,children:(0,$.jsx)(v.Z,{sx:{mb:5},children:(0,$.jsx)(j.Z,{direction:"row",divider:(0,$.jsx)(g.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:(0,$.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,$.jsxs)(j.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,$.jsx)(U.Z,{icon:"mdi:currency-usd",sx:{color:e.palette.success.main,width:24,height:24,position:"absolute"}}),(0,$.jsx)(b.Z,{variant:"determinate",value:10,size:56,thickness:4,sx:{color:e.palette.success.main,opacity:.48}}),(0,$.jsx)(b.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,$.jsxs)(j.Z,{spacing:.5,sx:{ml:2},children:[(0,$.jsx)(S.Z,{variant:"h6",children:"Total Pemasukan"}),(0,$.jsx)(S.Z,{variant:"subtitle2",children:(0,J.fS)(Me)})]})]})})})})]}),(0,$.jsxs)(v.Z,{children:[(0,$.jsxs)(j.Z,{direction:"row",alignItems:"center",sx:{py:2.5,px:3},children:[(0,$.jsx)(h.Z,{label:"Tanggal Mulai",value:ke[0],onChange:function(e){return _e(e,0)},renderInput:function(e){return(0,$.jsx)(Y.Z,(0,i.Z)((0,i.Z)({},e),{},{fullWidth:!0,sx:{maxWidth:{md:300},marginRight:"20px"}}))}}),(0,$.jsx)(h.Z,{label:"Tanggal Selesai",value:ke[1],onChange:function(e){return _e(e,1)},renderInput:function(e){return(0,$.jsx)(Y.Z,(0,i.Z)((0,i.Z)({},e),{},{fullWidth:!0,sx:{maxWidth:{md:300},marginRight:"20px"}}))}}),(0,$.jsx)(K.Z,{label:"Status",useStaticOption:!0,staticOptions:[{id:"progress",label:"Progress"},{id:"pending",label:"Pending"},{id:"complete",label:"Complete"},{id:"canceled",label:"Canceled"}],onChange:function(e){return Pe(null===e||void 0===e?void 0:e.id)},sx:{width:"100%",marginRight:"20px"}}),(0,$.jsx)(j.Z,{width:"100%",direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,$.jsx)(y.Z,{variant:"contained",startIcon:(0,$.jsx)(U.Z,{icon:"mdi:file-document"}),onClick:Te,children:"Export"})})]}),(0,$.jsx)(L.Z,{children:(0,$.jsx)(M.Z,{sx:{minWidth:720},children:(0,$.jsxs)(C.Z,{children:[(0,$.jsx)(Q,{orderBy:l,order:B,onSortHandler:function(e){q(l===e&&"asc"===B?"desc":"asc"),E(e)}}),(0,$.jsx)(I.Z,{children:null===oe||void 0===oe?void 0:oe.map((function(e,t){return(0,$.jsxs)(D.Z,{children:[(0,$.jsx)(k.Z,{children:t+1+he*ve}),(0,$.jsx)(k.Z,{children:d()(e.date).format("YYYY-MM-DD HH:mm:ss")}),(0,$.jsx)(k.Z,{children:e.customerName}),(0,$.jsx)(k.Z,{children:e.phoneNumber}),(0,$.jsx)(k.Z,{children:(0,$.jsx)(W.Z,{variant:"ghost",color:"success",children:(0,J.fS)(e.price)})}),(0,$.jsx)(k.Z,{children:(null===e||void 0===e?void 0:e.status)&&(0,$.jsx)(W.Z,{variant:"ghost",color:(0,J.z2)(null===e||void 0===e?void 0:e.status),children:x()(null===e||void 0===e?void 0:e.status)})}),(0,$.jsx)(k.Z,{children:e.notes})]},e.id)}))})]})})}),(0,$.jsx)(w.Z,{sx:{position:"relative"},children:(0,$.jsx)(A.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===de||void 0===de?void 0:de.count)||0,rowsPerPage:ve,page:he,onPageChange:function(e,t){Ze(t)},onRowsPerPageChange:function(e){je(e.target.value)}})})]})]})})}var Q=function(e){var t=e.orderBy,n=e.order,i=e.onSortHandler;return(0,$.jsx)(E.Z,{children:(0,$.jsx)(D.Z,{children:[{id:"no",label:"No",withSort:!1},{id:"date",label:"Tanggal",withSort:!0},{id:"customer_name",label:"Customer",withSort:!0},{id:"phone_number",label:"No. Handphone",withSort:!0},{id:"price",label:"Harga",withSort:!0},{id:"status",label:"Status",withSort:!0},{id:"notes",label:"Keterangan",withSort:!0}].map((function(e){return(0,$.jsx)(k.Z,{children:(0,$.jsx)(B.Z,{condition:e.withSort,wrapper:function(r){return(0,$.jsx)(z.Z,{active:t===e.id,direction:t===e.id?n:"asc",onClick:function(){return t=e.id,void i(t);var t},children:r})},children:e.label})},e.id)}))})})}},32095:function(e){e.exports=function(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}},40240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},14632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},17810:function(e,t,n){var i=n(32095),r=n(94857),a=n(95660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return i(a(r(t).replace(o,"")),e,"")}}},35868:function(e,t,n){var i=n(14632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=i},87137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},41029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+r+"]",o="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+r+o+t+n+i+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",x="["+i+"]",f="(?:"+u+"|"+c+")",h="(?:"+x+"|"+c+")",Z="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",p="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",j=v+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",d,l].join("|")+")"+v+m+")*"),g="(?:"+[s,d,l].join("|")+")"+j,b=RegExp([x+"?"+u+"+"+Z+"(?="+[a,x,"$"].join("|")+")",h+"+"+p+"(?="+[a,x+f,"$"].join("|")+")",x+"?"+f+"+"+Z,x+"+"+p,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,g].join("|"),"g");e.exports=function(e){return e.match(b)||[]}},94857:function(e,t,n){var i=n(35868),r=n(63518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(a,i).replace(o,"")}},63266:function(e,t,n){var i=n(17810),r=n(52085),a=i((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=a},95660:function(e,t,n){var i=n(40240),r=n(87137),a=n(63518),o=n(41029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?r(e)?o(e):i(e):e.match(t)||[]}}}]);
//# sourceMappingURL=568.93d38f32.chunk.js.map