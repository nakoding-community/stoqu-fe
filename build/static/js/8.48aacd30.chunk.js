"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[8],{52094:function(e,n){n.Z=function(e){var n=e.condition,i=e.wrapper,t=e.children;return n?i(t):t}},40008:function(e,n,i){i.r(n),i.d(n,{default:function(){return Q}});var t=i(1413),a=i(4942),o=i(74165),r=i(15861),d=i(70885),l=i(72791),s=i(63266),c=i.n(s),u=i(72426),v=i.n(u),h=i(9281),p=i(43504),Z=i(16871),x=i(9062),m=i(13967),f=i(91614),S=i(36151),g=i(57621),j=i(53767),b=i(51603),w=i(63466),k=i(39281),C=i(79836),I=i(53382),y=i(35855),T=i(53994),_=i(20068),P=i(13400),B=i(64554),H=i(63033),R=i(56890),D=i(80720),N=i(21659),E=i(85703),z=i(25212),A=i(53026),F=i(27578),O=i(17827),Y=i(41758),U=i(5592),V=i(52094),G=i(87003),J=i(87285),K=i(13554),M=i(80184);function Q(){var e=(0,l.useRef)(null),n=(0,l.useState)("created_at"),i=(0,d.Z)(n,2),s=i[0],u=i[1],R=(0,l.useState)("desc"),D=(0,d.Z)(R,2),V=D[0],Q=D[1],L=(0,m.Z)(),X=(0,Z.s0)(),q=(0,E.Z)().themeStretch,$=(0,K.Z)().totalOrder,ee=(0,l.useState)(""),ne=(0,d.Z)(ee,2),ie=ne[0],te=ne[1],ae=(0,h.Nr)(ie,300),oe=(0,d.Z)(ae,1)[0],re=(0,l.useState)([]),de=(0,d.Z)(re,2),le=de[0],se=de[1],ce=(0,l.useState)(null),ue=(0,d.Z)(ce,2),ve=ue[0],he=ue[1],pe=(0,l.useState)(0),Ze=(0,d.Z)(pe,2),xe=Ze[0],me=Ze[1],fe=(0,l.useState)(10),Se=(0,d.Z)(fe,2),ge=Se[0],je=Se[1],be=(0,l.useState)(""),we=(0,d.Z)(be,2),ke=we[0],Ce=we[1],Ie=(0,l.useState)(!0),ye=(0,d.Z)(Ie,2),Te=ye[0],_e=ye[1],Pe=function(){var n=(0,r.Z)((0,o.Z)().mark((function n(){var i,t,a,r,d;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,x.ad)(N.H),t=(0,x.IO)((0,x.hJ)(i,"dashboard-order"),(0,x.b9)(ge)),a=(0,x.JU)(i,"total-order","total-order"),n.next=5,(0,x.QT)(a);case 5:r=n.sent,d=(0,x.cf)(t,(function(e){var n=[];e.forEach((function(e){n.push(e.data())})),se(n)})),he({count:r.data().TotalOrder}),e.current=d;case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Be=function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var n,i,r,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Te){e.next=4;break}Pe(),e.next=12;break;case 4:return n=(0,t.Z)({page:xe+1,pageSize:ge,search:ie,filterStatus:ke},V&&(0,a.Z)({},"asc"===V?"ascField":"dscField",s)),e.next=7,(0,G.AU)(n);case 7:i=e.sent,r=i.data,d=i.meta,se(r||[]),he(null===d||void 0===d?void 0:d.info);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){Be()}),[ge,xe,oe,ke,V]),(0,l.useEffect)((function(){return Te||(null===e||void 0===e?void 0:e.current)&&(null===e||void 0===e||e.current()),function(){(null===e||void 0===e?void 0:e.current)&&(null===e||void 0===e||e.current())}}),[Te,e]),(0,M.jsx)(z.Z,{title:"Pesanan",children:(0,M.jsxs)(f.Z,{maxWidth:!q&&"lg",children:[(0,M.jsx)(O.Z,{heading:"Pesanan",links:[],action:(0,M.jsx)(S.Z,{variant:"contained",component:p.rU,to:"/dashboard/order/new",startIcon:(0,M.jsx)(A.Z,{icon:"eva:plus-fill"}),children:"Tambah"}),useBadge:!0,badgeCount:$}),(0,M.jsxs)(g.Z,{children:[(0,M.jsxs)(j.Z,{direction:"row",alignItems:"center",sx:{py:2.5,px:3},children:[(0,M.jsx)(U.Z,{label:"Status",useStaticOption:!0,staticOptions:[{id:"progress",label:"Progress"},{id:"pending",label:"Pending"},{id:"complete",label:"Complete"},{id:"canceled",label:"Canceled"}],onChange:function(e){_e(!1),Ce(null===e||void 0===e?void 0:e.id),me(0)},sx:{width:300,marginRight:"20px"}}),(0,M.jsx)(b.Z,{value:ie,onChange:function(e){_e(!1),te(e.target.value),me(0)},placeholder:"Cari pesanan...",sx:{width:"100%"},InputProps:{startAdornment:(0,M.jsx)(w.Z,{position:"start",children:(0,M.jsx)(A.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})]}),(0,M.jsx)(F.Z,{children:(0,M.jsx)(k.Z,{sx:{minWidth:720},children:(0,M.jsxs)(C.Z,{children:[(0,M.jsx)(W,{orderBy:s,order:V,onSortHandler:function(e){var n=s===e&&"asc"===V;_e(!1),Q(n?"desc":"asc"),u(e)}}),(0,M.jsx)(I.Z,{children:le.map((function(e,n){return(0,M.jsxs)(y.Z,{children:[(0,M.jsx)(T.Z,{children:(i=void 0!==(null===e||void 0===e?void 0:e.IsRead)?null===e||void 0===e?void 0:e.IsRead:null===e||void 0===e?void 0:e.isRead,!i&&(0,M.jsx)(_.Z,{title:"Belum dibaca",children:(0,M.jsx)("div",{className:"unread-circle",style:{backgroundColor:L.palette.error.main}})}))}),(0,M.jsx)(T.Z,{children:n+1+xe*ge}),(0,M.jsx)(T.Z,{children:v()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),(0,M.jsx)(T.Z,{children:((null===e||void 0===e?void 0:e.TrxType)||(null===e||void 0===e?void 0:e.trxType))&&(0,M.jsx)(Y.Z,{variant:"ghost",color:"in"===((null===e||void 0===e?void 0:e.TrxType)||(null===e||void 0===e?void 0:e.trxType))?"success":"error",children:(null===e||void 0===e?void 0:e.TrxType)||(null===e||void 0===e?void 0:e.trxType)})}),(0,M.jsx)(T.Z,{children:(null===e||void 0===e?void 0:e.Code)||(null===e||void 0===e?void 0:e.code)}),(0,M.jsx)(T.Z,{children:(null===e||void 0===e?void 0:e.CustomerName)||e.customerName}),(0,M.jsx)(T.Z,{children:(null===e||void 0===e?void 0:e.PhoneNumber)||e.phoneNumber}),(0,M.jsx)(T.Z,{children:(0,M.jsx)(Y.Z,{variant:"ghost",color:"success",children:(0,J.fS)((null===e||void 0===e?void 0:e.FinalPrice)||e.finalPrice||0)})}),(0,M.jsx)(T.Z,{children:((null===e||void 0===e?void 0:e.Status)||(null===e||void 0===e?void 0:e.status))&&(0,M.jsx)(Y.Z,{variant:"ghost",color:(0,J.z2)((null===e||void 0===e?void 0:e.Status)||(null===e||void 0===e?void 0:e.status)),children:c()((null===e||void 0===e?void 0:e.Status)||(null===e||void 0===e?void 0:e.status))})}),(0,M.jsx)(T.Z,{children:((null===e||void 0===e?void 0:e.StockStatus)||(null===e||void 0===e?void 0:e.stockStatus))&&(0,M.jsx)(Y.Z,{variant:"ghost",color:"normal"!==((null===e||void 0===e?void 0:e.StockStatus)||(null===e||void 0===e?void 0:e.stockStatus))?"error":"success",children:c()((null===e||void 0===e?void 0:e.StockStatus)||(null===e||void 0===e?void 0:e.stockStatus))})}),(0,M.jsx)(T.Z,{children:(0,M.jsx)(_.Z,{title:"Edit Pesanan",children:(0,M.jsx)(P.Z,{size:"small",color:"warning",onClick:function(){return function(e,n){X("/dashboard/order/".concat(e)),!n&&(0,G.CD)(e)}((null===e||void 0===e?void 0:e.ID)||(null===e||void 0===e?void 0:e.id),null===e||void 0===e?void 0:e.isRead)},children:(0,M.jsx)(A.Z,{icon:"eva:edit-fill"})})})})]},(null===e||void 0===e?void 0:e.ID)||e.id);var i}))})]})})}),(0,M.jsx)(B.Z,{sx:{position:"relative"},children:(0,M.jsx)(H.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===ve||void 0===ve?void 0:ve.count)||0,rowsPerPage:ge,page:xe,onPageChange:function(e,n){_e(!1),me(n)},onRowsPerPageChange:function(e){je(e.target.value)}})})]})]})})}var W=function(e){var n=e.orderBy,i=e.order,t=e.onSortHandler;return(0,M.jsx)(R.Z,{children:(0,M.jsx)(y.Z,{children:[{id:"",label:"",withSort:!1},{id:"no",label:"No",withSort:!1},{id:"created_at",label:"Tanggal",withSort:!0},{id:"trx_type",label:"Tipe Transaksi",withSort:!0},{id:"code",label:"Kode",withSort:!0},{id:"customer_name",label:"Customer",withSort:!0},{id:"phone_number",label:"No. Handphone",withSort:!0},{id:"final_price",label:"Harga",withSort:!0},{id:"status",label:"Status",withSort:!0},{id:"stock_status",label:"Stok Status",withSort:!0},{id:"action",label:"Aksi",withSort:!1}].map((function(e){return(0,M.jsx)(T.Z,{children:(0,M.jsx)(V.Z,{condition:e.withSort,wrapper:function(a){return(0,M.jsx)(D.Z,{active:n===e.id,direction:n===e.id?i:"asc",onClick:function(){return n=e.id,void t(n);var n},children:a})},children:e.label})},e.id)}))})})}},21659:function(e,n,i){i.d(n,{H:function(){return o}});var t=i(31610),a=(i(69438),{apiKey:"AIzaSyC4E9iVVm-10JjUrvMSEGRVtLHkwQTIon8",authDomain:"inamawangi-59d3e.firebaseapp.com",projectId:"inamawangi-59d3e",storageBucket:"inamawangi-59d3e.appspot.com",messagingSenderId:"282036610633",appId:"1:282036610633:web:9753a4fe48938f89080198",measurementId:"G-FRLWBBZBB4"});a={apiKey:"AIzaSyCZrt6XSYjH1ncDCQSo1n6Rz4DgiNk__tw",authDomain:"inamawangi-d1766.firebaseapp.com",projectId:"inamawangi-d1766",storageBucket:"inamawangi-d1766.appspot.com",messagingSenderId:"512541535572",appId:"1:512541535572:web:936057206e1b0b7202ecc1",measurementId:"G-SFXTFEVE73"},t.Z.apps.length||t.Z.initializeApp(a);var o=t.Z.app()}}]);
//# sourceMappingURL=8.48aacd30.chunk.js.map