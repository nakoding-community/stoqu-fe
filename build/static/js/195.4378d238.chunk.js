"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[195],{52094:function(e,n){n.Z=function(e){var n=e.condition,t=e.wrapper,r=e.children;return n?t(r):r}},54195:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(1413),i=t(4942),a=t(42982),o=t(74165),l=t(15861),d=t(70885),s=t(72426),c=t.n(s),u=t(72791),h=t(90653),x=t(13967),p=t(35855),Z=t(53994),v=t(91614),m=t(61889),f=t(57621),j=t(53767),g=t(94721),b=t(13239),w=t(20890),y=t(64554),S=t(51603),Y=t(36151),M=t(39281),P=t(79836),k=t(53382),_=t(63033),N=t(56890),C=t(80720),D=t(9281),T=t(74569),I=t.n(T),B=t(85703),W=t(25212),R=t(53026),z=t(27578),E=t(17827),J=t(52094),L=t(87003),O=t(23197),A=t(5592),F=t(80184);function H(e){return e instanceof Date&&!Number.isNaN(e)}var U=function(e){var n=e.row,t=e.index,r=e.page,i=e.rowsPerPage;return(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(Z.Z,{children:t+1+r*i}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.brandName}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.typeName}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.count})]})},V=function(e){var n=e.row,t=e.index,r=e.page,i=e.rowsPerPage;return(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(Z.Z,{children:t+1+r*i}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.brandName}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.typeName}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.variantName}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.count})]})},q=function(e){var n=e.row,t=e.index,r=e.page,i=e.rowsPerPage;return(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(Z.Z,{children:t+1+r*i}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.typeName}),(0,F.jsx)(Z.Z,{children:null===n||void 0===n?void 0:n.count})]})};function G(){var e=(0,x.Z)(),n=(0,B.Z)().themeStretch,t=(0,u.useState)("created_at"),s=(0,d.Z)(t,2),p=s[0],Z=s[1],N=(0,u.useState)("desc"),C=(0,d.Z)(N,2),T=C[0],J=C[1],G=(0,u.useState)(""),Q=(0,d.Z)(G,2),X=Q[0],$=(Q[1],(0,D.Nr)(X,300)),ee=(0,d.Z)($,1)[0],ne=(0,u.useState)([]),te=(0,d.Z)(ne,2),re=te[0],ie=te[1],ae=(0,u.useState)(null),oe=(0,d.Z)(ae,2),le=oe[0],de=oe[1],se=(0,u.useState)(0),ce=(0,d.Z)(se,2),ue=ce[0],he=ce[1],xe=(0,u.useState)(5),pe=(0,d.Z)(xe,2),Ze=pe[0],ve=pe[1],me=(0,u.useState)([c()().subtract(7,"d"),c()()]),fe=(0,d.Z)(me,2),je=fe[0],ge=fe[1],be=(0,u.useState)("brand"),we=(0,d.Z)(be,2),ye=we[0],Se=we[1],Ye={brand:U,variant:V,type:q},Me=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var n,t,r,i,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken"),t={url:"".concat(O.E0,"/reports/summary-excel"),headers:{"Content-Type":"blob",Authorization:null!==n?"Bearer ".concat(n):""},responseType:"arraybuffer",params:{start_date:c()(je[0]).format("YYYY-MM-DD"),end_date:c()(je[1]).format("YYYY-MM-DD"),category:ye}},e.prev=2,e.next=5,I()(t);case 5:r=e.sent,i="".concat(H(je[0])?c()(je[0]).format("MMMM Do YYYY"):c()().subtract(7,"d").format("MMMM Do YYYY")+" - "+H(je[1])?c()(je[1]).format("MMMM Do YYYY"):c()().format("MMMM Do YYYY"),".xlsx"),a=URL.createObjectURL(new Blob([r.data])),(l=document.createElement("a")).href=a,l.setAttribute("download",i),document.body.appendChild(l),l.click(),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(2),Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(e,n){var t=(0,a.Z)(je);t[n]=e,ge(t),he(0)},ke=function(e){return(0,i.Z)({},e,c()("startDate"===e?je[0]:je[1]).format("YYYY-MM-DD"))},_e=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var n,t,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.Z)((0,r.Z)((0,r.Z)({page:ue+1,pageSize:Ze,category:ye,search:X},T&&(0,i.Z)({},"asc"===T?"ascField":"dscField",p)),2===(null===je||void 0===je?void 0:je.length)&&je[0]&&ke("startDate")),2===(null===je||void 0===je?void 0:je.length)&&je[1]&&ke("endDate")),e.next=3,(0,L.Iz)(n);case 3:t=e.sent,a=t.data,l=t.meta,ie(a||[]),de(null===l||void 0===l?void 0:l.info);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){_e()}),[Ze,ue,ee,T,je,ye]),(0,F.jsx)(W.Z,{title:"Laporan Produk",children:(0,F.jsxs)(v.Z,{maxWidth:!n&&"lg",children:[(0,F.jsx)(E.Z,{heading:"Laporan Produk",useBadge:!0,badgeCount:null===le||void 0===le?void 0:le.count}),(0,F.jsx)(m.ZP,{container:!0,spacing:3,children:(0,F.jsx)(m.ZP,{item:!0,xs:12,md:3,children:(0,F.jsx)(f.Z,{sx:{mb:5},children:(0,F.jsx)(j.Z,{direction:"row",divider:(0,F.jsx)(g.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:(0,F.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,F.jsxs)(j.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,F.jsx)(R.Z,{icon:"ic:round-receipt",sx:{color:e.palette.info.main,width:24,height:24,position:"absolute"}}),(0,F.jsx)(b.Z,{variant:"determinate",value:10,size:56,thickness:4,sx:{color:e.palette.info.main,opacity:.48}}),(0,F.jsx)(b.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,F.jsxs)(j.Z,{spacing:.5,sx:{ml:2},children:[(0,F.jsx)(w.Z,{variant:"h6",children:"Total Jumlah"}),(0,F.jsxs)(w.Z,{variant:"subtitle2",children:[null===le||void 0===le?void 0:le.count," ",(0,F.jsx)(y.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:ye})]})]})]})})})})}),(0,F.jsxs)(f.Z,{children:[(0,F.jsxs)(j.Z,{direction:"row",alignItems:"center",sx:{py:2.5,px:3},children:[(0,F.jsx)(h.Z,{label:"Tanggal Mulai",value:je[0],onChange:function(e){return Pe(e,0)},renderInput:function(e){return(0,F.jsx)(S.Z,(0,r.Z)((0,r.Z)({},e),{},{fullWidth:!0,sx:{maxWidth:{md:300},marginRight:"20px"}}))}}),(0,F.jsx)(h.Z,{label:"Tanggal Selesai",value:je[1],onChange:function(e){return Pe(e,1)},renderInput:function(e){return(0,F.jsx)(S.Z,(0,r.Z)((0,r.Z)({},e),{},{fullWidth:!0,sx:{maxWidth:{md:300},marginRight:"20px"}}))}}),(0,F.jsx)(A.Z,{value:ye,label:"Tipe",useStaticOption:!0,staticOptions:[{id:"brand",label:"Brand"},{id:"variant",label:"Variant"},{id:"type",label:"Tipe"}],onChange:function(e){return Se(null===e||void 0===e?void 0:e.id)},sx:{width:"100%",marginRight:"20px"}}),(0,F.jsx)(j.Z,{width:"100%",direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,F.jsx)(Y.Z,{variant:"contained",startIcon:(0,F.jsx)(R.Z,{icon:"mdi:file-document"}),onClick:Me,children:"Export"})})]}),(0,F.jsx)(z.Z,{children:(0,F.jsx)(M.Z,{sx:{minWidth:720},children:(0,F.jsxs)(P.Z,{children:[(0,F.jsx)(K,{orderBy:p,order:T,onSortHandler:function(e){J(p===e&&"asc"===T?"desc":"asc"),Z(e)},type:ye}),(0,F.jsx)(k.Z,{children:null===re||void 0===re?void 0:re.map((function(e,n){var t=Ye[ye];return(0,F.jsx)(t,{row:e,index:n,page:ue,rowsPerPage:Ze},n)}))})]})})}),(0,F.jsx)(y.Z,{sx:{position:"relative"},children:(0,F.jsx)(_.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===le||void 0===le?void 0:le.count)||0,rowsPerPage:Ze,page:ue,onPageChange:function(e,n){he(n)},onRowsPerPageChange:function(e){ve(e.target.value)}})})]})]})})}var K=function(e){var n=e.orderBy,t=e.order,r=e.onSortHandler,i=e.type;return(0,F.jsx)(N.Z,{children:(0,F.jsx)(p.Z,{children:{brand:[{id:"no",label:"No",withSort:!1},{id:"brand_name",label:"Nama Brand",withSort:!1},{id:"type_name",label:"Tipe",withSort:!1},{id:"count",label:"Jumlah",withSort:!1}],variant:[{id:"no",label:"No",withSort:!1},{id:"brand_name",label:"Nama Brand",withSort:!1},{id:"type_name",label:"Tipe",withSort:!1},{id:"variant_name",label:"Nama Varian",withSort:!1},{id:"count",label:"Jumlah",withSort:!1}],type:[{id:"no",label:"No",withSort:!1},{id:"type_name",label:"Tipe",withSort:!1},{id:"count",label:"Jumlah",withSort:!1}]}[i].map((function(e){return(0,F.jsx)(Z.Z,{children:(0,F.jsx)(J.Z,{condition:e.withSort,wrapper:function(i){return(0,F.jsx)(C.Z,{active:n===e.id,direction:n===e.id?t:"asc",onClick:function(){return n=e.id,void r(n);var n},children:i})},children:e.label})},e.id)}))})})}}}]);
//# sourceMappingURL=195.4378d238.chunk.js.map