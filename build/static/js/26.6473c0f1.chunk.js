"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[26],{52094:function(n,e){e.Z=function(n){var e=n.condition,t=n.wrapper,i=n.children;return e?t(i):i}},71898:function(n,e,t){var i=t(1413),o=t(74165),r=t(15861),a=t(70885),l=t(72791),s=t(31010),u=t(51603),d=t(19169),c=t(80184);e.Z=function(n){var e,t=n.onChange,v=n.defaultValue,Z=n.label,h=void 0===Z?"Unit":Z,f=(0,l.useState)([]),x=(0,a.Z)(f,2),p=x[0],j=x[1],g=(0,l.useCallback)((function(){return null===p||void 0===p?void 0:p.map((function(n){return{label:null===n||void 0===n?void 0:n.unit,id:null===n||void 0===n?void 0:n.id}}))}),[p]),m=null===(e=g())||void 0===e?void 0:e.find((function(n){return n.id===v})),b=function(){var n=(0,r.Z)((0,o.Z)().mark((function n(){var e,t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.r)();case 2:e=n.sent,(t=e.data)&&j(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){b()}),[]),(null===p||void 0===p?void 0:p.length)>0?(0,c.jsx)(s.Z,{disablePortal:!0,id:"combo-box-units",options:g(),onChange:function(n,e){t(e)},defaultValue:m,renderInput:function(n){return(0,c.jsx)(u.Z,(0,i.Z)((0,i.Z)({},n),{},{label:h}))}}):(0,c.jsx)(c.Fragment,{})}},74384:function(n,e,t){t(72791);var i=t(64554),o=t(65661),r=t(11878),a=t(41758),l=(t(53026),t(80184));e.Z=function(n){var e=n.title,t=n.open,s=n.onClose,u=n.maxWidth,d=n.children,c=n.badgeCount,v=n.useBadge,Z=n.headerButtonComponent;return(0,l.jsxs)(r.Kl,{open:t,onClose:s,maxWidth:u,children:[(0,l.jsx)(i.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,l.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,l.jsxs)(i.Z,{children:[e," ",v&&(0,l.jsx)(a.Z,{variant:"ghost",color:"error",sx:{marginLeft:"8px"},children:c})]}),Z&&Z]})}),d]})}},33943:function(n,e,t){t.d(e,{c:function(){return s}});var i=t(70885),o=t(4942),r=t(1413),a=t(72791),l=function(n,e){switch(e.type){case"INPUT_CHANGE":return(0,r.Z)((0,r.Z)({},n),{},(0,o.Z)({},e.inputId,e.value));case"SET_DATA":return(0,r.Z)((0,r.Z)({},n),e.inputData);default:return n}},s=function(n){var e=(0,a.useReducer)(l,n),t=(0,i.Z)(e,2),o=t[0],r=t[1];return[o,(0,a.useCallback)((function(n,e){r({type:"INPUT_CHANGE",value:e,inputId:n})}),[]),(0,a.useCallback)((function(n){r({type:"SET_DATA",inputData:n})}),[])]}},58026:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var i=t(74165),o=t(1413),r=t(15861),a=t(4942),l=t(70885),s=t(72791),u=t(91614),d=t(36151),c=t(57621),v=t(53767),Z=t(51603),h=t(63466),f=t(39281),x=t(79836),p=t(53382),j=t(35855),g=t(53994),m=t(20068),b=t(13400),C=t(64554),w=t(63033),S=t(56890),k=t(80720),T=t(21765),y=t(9281),A=t(75985),I=t(53026),_=t(27578),P=t(17827),D=t(25212),E=t(85703),H=t(89731),B=function(n){return H.Z.post("convertions",n)},K=function(n){return H.Z.delete("convertions/".concat(n))},N=t(52094),F=t(97123),W=t(39709),z=t(74384),G=(t(71898),t(36790)),U=t(33943),R=t(5592),V=t(80184),L=function(n){var e=n.open,t=n.onClose,i=n.editData,o=n.editId,r=n.getConvertionsHandler,a=i?"Edit Tipe Konversi":"Tambah Tipe Konversi";return(0,V.jsx)(z.Z,{title:a,open:e,onClose:t,children:(0,V.jsx)(O,{onClose:t,editData:i,editId:o,getConvertionsHandler:r})})},O=function(n){var e=n.onClose,t=n.editData,a=n.editId,u=n.getConvertionsHandler,c=(0,U.c)(q),h=(0,l.Z)(c,3),f=h[0],x=h[1],p=h[2],j=(0,s.useState)(!1),g=(0,l.Z)(j,2),m=g[0],b=g[1],C=f.origin,w=f.destination,S=f.total,k=f.labelText,T=""===C||""===w||""===S,y=function(n){x("labelText",(0,o.Z)((0,o.Z)({},k),n))},I=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(r){var l,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b(!0),r.preventDefault(),delete(l=(0,o.Z)((0,o.Z)({},f),{},{total:parseFloat(S)})).labelText,!t){n.next=10;break}return n.next=7,(0,G.b)(a,l);case 7:n.t0=n.sent,n.next=13;break;case 10:return n.next=12,B(l);case 12:n.t0=n.sent;case 13:s=n.t0,s.isSuccess&&(A.Am.success("Berhasil ".concat(t?"mengubah":"menambahkan"," tipe konversi")),e(),u()),b(!1);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,s.useEffect)((function(){t&&p(t)}),[t,p]),(0,V.jsxs)(v.Z,{component:"form",onSubmit:I,children:[(0,V.jsxs)(v.Z,{spacing:3,sx:{p:3},children:[(0,V.jsx)(R.Z,{value:C,label:"Tipe Awal (*)",type:"units",onChange:function(n){x("origin",null===n||void 0===n?void 0:n.id),y({origin:null===n||void 0===n?void 0:n.label})},labelText:null===k||void 0===k?void 0:k.origin}),(0,V.jsx)(R.Z,{value:w,label:"Tipe Akhir (*)",type:"units",onChange:function(n){x("destination",null===n||void 0===n?void 0:n.id),y({destination:null===n||void 0===n?void 0:n.label})},labelText:null===k||void 0===k?void 0:k.destination}),(0,V.jsx)(Z.Z,{value:S,type:"number",id:"value",label:"Total Konversi (*)",variant:"outlined",onChange:function(n){return x("total",n.target.value)}})]}),(0,V.jsxs)(F.Z,{children:[(0,V.jsx)(d.Z,{variant:"outlined",color:"inherit",onClick:e,children:"Close"}),(0,V.jsx)(W.Z,{type:"submit",variant:"contained",loading:m,disabled:T,children:"Save"})]})]})},q={origin:"",destination:"",total:""};var J=function(n){var e=n.orderBy,t=n.order,i=n.onSortHandler;return(0,V.jsx)(S.Z,{children:(0,V.jsx)(j.Z,{children:[{id:"no",label:"No",withSort:!1},{id:"origin",label:"Tipe Awal",withSort:!0},{id:"destination",label:"Tipe Akhir",withSort:!0},{id:"total",label:"Total Konversi",withSort:!0},{id:"action",label:"Aksi",withSort:!1}].map((function(n){return(0,V.jsx)(g.Z,{children:(0,V.jsx)(N.Z,{condition:n.withSort,wrapper:function(o){return(0,V.jsx)(k.Z,{active:e===n.id,direction:e===n.id?t:"asc",onClick:function(){return e=n.id,void i(e);var e},children:o})},children:n.label})},n.id)}))})})},M=function(){var n=(0,E.Z)().themeStretch,e=(0,T.N)(),t=(0,s.useState)("created_at"),S=(0,l.Z)(t,2),k=S[0],B=S[1],N=(0,s.useState)("desc"),F=(0,l.Z)(N,2),W=F[0],z=F[1],G=(0,s.useState)(""),U=(0,l.Z)(G,2),R=U[0],O=U[1],q=(0,y.Nr)(R,300),M=(0,l.Z)(q,1)[0],Q=(0,s.useState)(null),X=(0,l.Z)(Q,2),Y=X[0],$=X[1],nn=(0,s.useState)(null),en=(0,l.Z)(nn,2),tn=en[0],on=en[1],rn=(0,s.useState)([]),an=(0,l.Z)(rn,2),ln=an[0],sn=an[1],un=(0,s.useState)(null),dn=(0,l.Z)(un,2),cn=dn[0],vn=dn[1],Zn=(0,s.useState)(0),hn=(0,l.Z)(Zn,2),fn=hn[0],xn=hn[1],pn=(0,s.useState)(5),jn=(0,l.Z)(pn,2),gn=jn[0],mn=jn[1],bn=(0,s.useState)(!1),Cn=(0,l.Z)(bn,2),wn=Cn[0],Sn=Cn[1],kn=function(){Sn(!0)},Tn=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(){var e,t,r,l;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,o.Z)({page:fn+1,pageSize:gn,search:R},W&&(0,a.Z)({},"asc"===W?"ascField":"dscField",k)),n.next=3,i=e,H.Z.get("convertions",{params:i});case 3:t=n.sent,r=t.data,l=t.meta,sn(r||[]),vn(null===l||void 0===l?void 0:l.info);case 8:case"end":return n.stop()}var i}),n)})));return function(){return n.apply(this,arguments)}}();return(0,s.useEffect)((function(){Tn()}),[gn,fn,M,W]),(0,V.jsxs)(D.Z,{title:"Tipe Konversi",children:[(0,V.jsxs)(u.Z,{maxWidth:!n&&"lg",children:[(0,V.jsx)(P.Z,{heading:"Tipe Konversi",action:(0,V.jsx)(d.Z,{variant:"contained",startIcon:(0,V.jsx)(I.Z,{icon:"eva:plus-fill"}),onClick:kn,children:"Tambah"}),badgeCount:(null===cn||void 0===cn?void 0:cn.count)||0,useBadge:!0}),(0,V.jsxs)(c.Z,{children:[(0,V.jsx)(v.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2.5,px:3},children:(0,V.jsx)(Z.Z,{value:R,onChange:function(n){O(n.target.value),xn(0)},placeholder:"Cari...",InputProps:{startAdornment:(0,V.jsx)(h.Z,{position:"start",children:(0,V.jsx)(I.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})}),(0,V.jsx)(_.Z,{children:(0,V.jsx)(f.Z,{sx:{minWidth:720},children:(0,V.jsxs)(x.Z,{children:[(0,V.jsx)(J,{orderBy:k,order:W,onSortHandler:function(n){z(k===n&&"asc"===W?"desc":"asc"),B(n)}}),(0,V.jsx)(p.Z,{children:null===ln||void 0===ln?void 0:ln.map((function(n,t){return(0,V.jsxs)(j.Z,{children:[(0,V.jsx)(g.Z,{children:t+1}),(0,V.jsx)(g.Z,{children:null===n||void 0===n?void 0:n.origin}),(0,V.jsx)(g.Z,{children:null===n||void 0===n?void 0:n.destination}),(0,V.jsx)(g.Z,{children:null===n||void 0===n?void 0:n.total}),(0,V.jsxs)(g.Z,{children:[(0,V.jsx)(m.Z,{title:"Edit Tipe",children:(0,V.jsx)(b.Z,{size:"small",color:"warning",onClick:function(){return $({origin:null===(e=n)||void 0===e?void 0:e.origin,destination:null===e||void 0===e?void 0:e.destination,total:null===e||void 0===e?void 0:e.total,labelText:{origin:null===e||void 0===e?void 0:e.origin,destination:null===e||void 0===e?void 0:e.destination}}),on(null===e||void 0===e?void 0:e.id),void kn();var e},children:(0,V.jsx)(I.Z,{icon:"eva:edit-fill"})})}),(0,V.jsx)(m.Z,{title:"Delete Tipe",children:(0,V.jsx)(b.Z,{size:"small",color:"error",onClick:function(){return t=null===n||void 0===n?void 0:n.id,void e().then((0,r.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K(t);case 2:n.sent.isSuccess&&(A.Am.success("Berhasil menghapus tipe konversi"),Tn());case 5:case"end":return n.stop()}}),n)}))));var t},children:(0,V.jsx)(I.Z,{icon:"eva:trash-2-outline"})})})]})]},n.id)}))})]})})}),(0,V.jsx)(C.Z,{sx:{position:"relative"},children:(0,V.jsx)(w.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===cn||void 0===cn?void 0:cn.count)||0,rowsPerPage:gn,page:fn,onPageChange:function(n,e){xn(e)},onRowsPerPageChange:function(n){mn(n.target.value)}})})]})]}),(0,V.jsx)(L,{open:wn,onClose:function(){Sn(!1),$(null),on(null)},editData:Y,editId:tn,getConvertionsHandler:Tn})]})}}}]);
//# sourceMappingURL=26.6473c0f1.chunk.js.map