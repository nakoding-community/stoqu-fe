"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[695],{52094:function(e,n){n.Z=function(e){var n=e.condition,t=e.wrapper,i=e.children;return n?t(i):i}},71898:function(e,n,t){var i=t(1413),r=t(74165),a=t(15861),l=t(70885),o=t(72791),s=t(31010),u=t(51603),d=t(19169),c=t(80184);n.Z=function(e){var n,t=e.onChange,v=e.defaultValue,h=e.label,x=void 0===h?"Unit":h,Z=(0,o.useState)([]),f=(0,l.Z)(Z,2),p=f[0],m=f[1],g=(0,o.useCallback)((function(){return null===p||void 0===p?void 0:p.map((function(e){return{label:null===e||void 0===e?void 0:e.unit,id:null===e||void 0===e?void 0:e.id}}))}),[p]),j=null===(n=g())||void 0===n?void 0:n.find((function(e){return e.id===v})),b=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.r)();case 2:n=e.sent,(t=n.data)&&m(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){b()}),[]),(null===p||void 0===p?void 0:p.length)>0?(0,c.jsx)(s.Z,{disablePortal:!0,id:"combo-box-units",options:g(),onChange:function(e,n){t(n)},defaultValue:j,renderInput:function(e){return(0,c.jsx)(u.Z,(0,i.Z)((0,i.Z)({},e),{},{label:x}))}}):(0,c.jsx)(c.Fragment,{})}},74384:function(e,n,t){t(72791);var i=t(64554),r=t(65661),a=t(11878),l=t(41758),o=(t(53026),t(80184));n.Z=function(e){var n=e.title,t=e.open,s=e.onClose,u=e.maxWidth,d=e.children,c=e.badgeCount,v=e.useBadge,h=e.headerButtonComponent;return(0,o.jsxs)(a.Kl,{open:t,onClose:s,maxWidth:u,children:[(0,o.jsx)(i.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,o.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,o.jsxs)(i.Z,{children:[n," ",v&&(0,o.jsx)(l.Z,{variant:"ghost",color:"error",sx:{marginLeft:"8px"},children:c})]}),h&&h]})}),d]})}},33943:function(e,n,t){t.d(n,{c:function(){return s}});var i=t(70885),r=t(4942),a=t(1413),l=t(72791),o=function(e,n){switch(n.type){case"INPUT_CHANGE":return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},n.inputId,n.value));case"SET_DATA":return(0,a.Z)((0,a.Z)({},e),n.inputData);default:return e}},s=function(e){var n=(0,l.useReducer)(o,e),t=(0,i.Z)(n,2),r=t[0],a=t[1];return[r,(0,l.useCallback)((function(e,n){a({type:"INPUT_CHANGE",value:n,inputId:e})}),[]),(0,l.useCallback)((function(e){a({type:"SET_DATA",inputData:e})}),[])]}},19695:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var i=t(74165),r=t(1413),a=t(15861),l=t(4942),o=t(70885),s=t(72791),u=t(21765),d=t(9281),c=t(91614),v=t(36151),h=t(57621),x=t(53767),Z=t(51603),f=t(63466),p=t(39281),m=t(79836),g=t(53382),j=t(35855),b=t(53994),w=t(20068),C=t(13400),S=t(64554),k=t(63033),P=t(56890),y=t(80720),I=t(75985),N=t(85703),T=t(25212),_=t(53026),E=t(27578),A=t(17827),D=t(52094),H=t(90260),U=(t(40329),t(97123)),B=t(39709),R=t(74384),z=(t(71898),t(33943)),W=t(5592),F=t(80184),G=function(e){var n=e.open,t=e.onClose,i=e.editData,r=e.editId,a=e.getUsersHandler,l=i?"Edit USer":"Tambah User";return(0,F.jsx)(R.Z,{title:l,open:n,onClose:t,children:(0,F.jsx)(L,{onClose:t,editData:i,editId:r,getUsersHandler:a})})},L=function(e){var n=e.onClose,t=e.editData,l=e.editId,u=e.getUsersHandler,d=(0,z.c)(V),c=(0,o.Z)(d,3),h=c[0],f=c[1],p=c[2],m=(0,s.useState)(!1),g=(0,o.Z)(m,2),j=g[0],b=g[1],w=h.email,C=h.name,S=h.password,k=h.phoneNumber,P=h.roleId,y=h.labelText,N=""===w||""===C||""===k||""===P||!t&&""===S,T=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(a){var o,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),a.preventDefault(),null!==(o=(0,r.Z)({},h))&&void 0!==o&&o.labelText&&(null===o||void 0===o||delete o.labelText),t&&(null!==o&&void 0!==o&&o.password||null===o||void 0===o||delete o.password),!t){e.next=11;break}return e.next=8,(0,H.uz)(l,o);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,(0,H.r4)(o);case 13:e.t0=e.sent;case 14:s=e.t0,s.isSuccess&&(I.Am.success("Berhasil ".concat(t?"mengubah":"menambahkan"," user")),n(),u()),b(!1);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){t&&p(t)}),[t,p]),(0,F.jsxs)(x.Z,{component:"form",onSubmit:T,children:[(0,F.jsxs)(x.Z,{spacing:3,sx:{p:3},children:[(0,F.jsx)(W.Z,{value:P,label:"Role (*)",type:"roles",onChange:function(e){var n;f("roleId",null===e||void 0===e?void 0:e.id),n={role:null===e||void 0===e?void 0:e.label},f("labelText",(0,r.Z)((0,r.Z)({},y),n))},labelText:null===y||void 0===y?void 0:y.role}),(0,F.jsx)(Z.Z,{value:C,type:"text",id:"name",label:"Nama (*)",variant:"outlined",onChange:function(e){return f("name",e.target.value)}}),(0,F.jsx)(Z.Z,{value:w,type:"email",id:"email",label:"Email (*)",variant:"outlined",onChange:function(e){return f("email",e.target.value)}}),(0,F.jsx)(Z.Z,{value:k,type:"number",id:"no",label:"No Hp (*)",variant:"outlined",onChange:function(e){return f("phoneNumber",e.target.value)}}),(0,F.jsx)(Z.Z,{value:S,type:"text",id:"password",label:"Password ".concat(t?"":"(*)"),variant:"outlined",onChange:function(e){return f("password",e.target.value)}})]}),(0,F.jsxs)(U.Z,{children:[(0,F.jsx)(v.Z,{variant:"outlined",color:"inherit",onClick:n,children:"Close"}),(0,F.jsx)(B.Z,{type:"submit",variant:"contained",loading:j,disabled:N,children:"Save"})]})]})},V={email:"",name:"",password:"",phoneNumber:"",roleId:""};function K(){var e=(0,u.N)(),n=(0,s.useState)("created_at"),t=(0,o.Z)(n,2),P=t[0],y=t[1],D=(0,s.useState)("desc"),U=(0,o.Z)(D,2),B=U[0],R=U[1],z=(0,s.useState)(""),L=(0,o.Z)(z,2),V=L[0],K=L[1],q=(0,d.Nr)(V,300),J=(0,o.Z)(q,1)[0],M=(0,N.Z)().themeStretch,Q=(0,s.useState)([]),X=(0,o.Z)(Q,2),Y=X[0],$=X[1],ee=(0,s.useState)(null),ne=(0,o.Z)(ee,2),te=ne[0],ie=ne[1],re=(0,s.useState)(0),ae=(0,o.Z)(re,2),le=ae[0],oe=ae[1],se=(0,s.useState)(5),ue=(0,o.Z)(se,2),de=ue[0],ce=ue[1],ve=(0,s.useState)(!1),he=(0,o.Z)(ve,2),xe=he[0],Ze=he[1],fe=(0,s.useState)(null),pe=(0,o.Z)(fe,2),me=pe[0],ge=pe[1],je=(0,s.useState)(null),be=(0,o.Z)(je,2),we=be[0],Ce=be[1],Se=(0,s.useState)(null),ke=(0,o.Z)(Se,2),Pe=ke[0],ye=ke[1],Ie=(0,s.useState)(null),Ne=(0,o.Z)(Ie,2),Te=Ne[0],_e=Ne[1],Ee=function(){Ze(!0)},Ae=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.Z)({page:le+1,pageSize:de,search:V,filterRole:Te},B&&(0,l.Z)({},"asc"===B?"ascField":"dscField",P)),e.next=3,(0,H.Rf)(n);case 3:t=e.sent,a=t.data,o=t.meta,$(a||[]),ie((null===o||void 0===o?void 0:o.info)||{});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){Ae()}),[de,le,J,B,Te]),(0,F.jsxs)(T.Z,{title:"Pengaturan Pengguna",children:[(0,F.jsxs)(c.Z,{maxWidth:!M&&"lg",children:[(0,F.jsx)(A.Z,{heading:"Pengaturan Pengguna",action:(0,F.jsx)(v.Z,{variant:"contained",startIcon:(0,F.jsx)(_.Z,{icon:"eva:plus-fill"}),onClick:Ee,children:"Tambah"}),badgeCount:(null===te||void 0===te?void 0:te.count)||0,useBadge:!0}),(0,F.jsxs)(h.Z,{children:[(0,F.jsxs)(x.Z,{direction:"row",alignItems:"center",sx:{py:2.5,px:3},children:[(0,F.jsx)(Z.Z,{value:V,onChange:function(e){K(e.target.value),oe(0)},placeholder:"Search user...",InputProps:{startAdornment:(0,F.jsx)(f.Z,{position:"start",children:(0,F.jsx)(_.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}}),(0,F.jsx)(W.Z,{value:Pe,label:"Role (*)",type:"roles",onChange:function(e){ye(null===e||void 0===e?void 0:e.id),_e(null===e||void 0===e?void 0:e.label)},labelText:Te,sx:{width:"20%",marginLeft:"16px"}})]}),(0,F.jsx)(E.Z,{children:(0,F.jsx)(p.Z,{sx:{minWidth:720},children:(0,F.jsxs)(m.Z,{children:[(0,F.jsx)(O,{orderBy:P,order:B,onSortHandler:function(e){R(P===e&&"asc"===B?"desc":"asc"),y(e)}}),(0,F.jsx)(g.Z,{children:null===Y||void 0===Y?void 0:Y.map((function(n,t){var r;return(0,F.jsxs)(j.Z,{children:[(0,F.jsx)(b.Z,{children:t+1+le*de}),(0,F.jsx)(b.Z,{children:null===n||void 0===n?void 0:n.name}),(0,F.jsx)(b.Z,{children:null===n||void 0===n?void 0:n.email}),(0,F.jsx)(b.Z,{children:null===n||void 0===n||null===(r=n.userProfile)||void 0===r?void 0:r.phone}),(0,F.jsxs)(b.Z,{children:[(0,F.jsx)(w.Z,{title:"Edit Pengguna",children:(0,F.jsx)(C.Z,{size:"small",color:"warning",onClick:function(){return function(e){var n,t,i;ge({email:null===e||void 0===e?void 0:e.email,name:null===e||void 0===e?void 0:e.name,password:null===e||void 0===e?void 0:e.password,phoneNumber:null===e||void 0===e||null===(n=e.userProfile)||void 0===n?void 0:n.phone,roleId:null===e||void 0===e||null===(t=e.role)||void 0===t?void 0:t.id,labelText:{role:null===e||void 0===e||null===(i=e.role)||void 0===i?void 0:i.role}}),Ce(null===e||void 0===e?void 0:e.id),Ee()}(n)},children:(0,F.jsx)(_.Z,{icon:"eva:edit-fill"})})}),(0,F.jsx)(w.Z,{title:"Delete Pengguna",children:(0,F.jsx)(C.Z,{size:"small",color:"error",onClick:function(){return t=null===n||void 0===n?void 0:n.id,void e().then((0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.h8)(t);case 2:e.sent.isSuccess&&(I.Am.success("Berhasil menghapus user"),Ae());case 5:case"end":return e.stop()}}),e)}))));var t},children:(0,F.jsx)(_.Z,{icon:"eva:trash-2-outline"})})})]})]},n.id)}))})]})})}),(0,F.jsx)(S.Z,{sx:{position:"relative"},children:(0,F.jsx)(k.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===te||void 0===te?void 0:te.count)||0,rowsPerPage:de,page:le,onPageChange:function(e,n){oe(n)},onRowsPerPageChange:function(e){ce(e.target.value)}})})]})]}),(0,F.jsx)(G,{open:xe,onClose:function(){Ze(!1),ge(null),Ce(null)},getUsersHandler:Ae,editData:me,editId:we})]})}var O=function(e){var n=e.orderBy,t=e.order,i=e.onSortHandler;return(0,F.jsx)(P.Z,{children:(0,F.jsx)(j.Z,{children:[{id:"no",label:"No",withSort:!1},{id:"name",label:"Nama",withSort:!0},{id:"email",label:"Email",withSort:!0},{id:"phone",label:"No. Handphone",withSort:!0},{id:"action",label:"Aksi",withSort:!1}].map((function(e){return(0,F.jsx)(b.Z,{children:(0,F.jsx)(D.Z,{condition:e.withSort,wrapper:function(r){return(0,F.jsx)(y.Z,{active:n===e.id,direction:n===e.id?t:"asc",onClick:function(){return n=e.id,void i(n);var n},children:r})},children:e.label})},e.id)}))})})}}}]);
//# sourceMappingURL=695.04483f88.chunk.js.map